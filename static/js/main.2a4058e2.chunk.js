(this.webpackJsonpwork_bords=this.webpackJsonpwork_bords||[]).push([[0],{188:function(e,t,r){},189:function(e,t,r){},235:function(e,t,r){"use strict";r.r(t);var s=r(0),n=r.n(s),a=r(18),c=r.n(a),i=(r(188),r(10)),o=(r(189),r(31)),d=r(63),l=Object(d.b)({name:"users",initialState:{currentUser:{id:6,name:"Saitama",surname:"One-Punch Man",position:"general director",accesses:[1,2,3,4,5],projects:[0,1,2,3]},users:[{id:0,name:"Roman",surname:"Lukichev",position:"frontend developer",accesses:[1],projects:[0,2,3]},{id:1,name:"Anya",surname:"Deryabina",position:"tester",accesses:[2],projects:[0,2,3]},{id:2,name:"Andrey",surname:"Lukichev",position:"team leader",accesses:[1,2,3,4],projects:[0,3]},{id:3,name:"Alex",surname:"Leenders",position:"team leader",accesses:[1,2,3],projects:[1,2]},{id:4,name:"John",surname:"Constantin",position:"frontend developer",accesses:[1],projects:[1]},{id:5,name:"Frodo",surname:"Baggins",position:"tester",accesses:[2],projects:[1]},{id:6,name:"Saitama",surname:"One-Punch Man",position:"general director",accesses:[1,2,3,4,5],projects:[0,1,2,3]}]},reducers:{setCurrentUser:function(e,t){e.currentUser=t.payload},addUser:function(e,t){var r={id:e.users[e.users.length-1].id+1,name:t.payload.name,surname:t.payload.surname,position:t.payload.position,accesses:t.payload.accesses,projects:[]};e.users.push(r)},addProjectInArrayOfUsers:function(e,t){t.payload.users.forEach((function(r){var s;null===(s=e.users.find((function(e){return e.id===r})))||void 0===s||s.projects.push(t.payload.projectId)}))}}}),u=l.actions,j=u.setCurrentUser,p=u.addUser,b=u.addProjectInArrayOfUsers,m=l.reducer,O=r(15),x=Object(d.b)({name:"projects",initialState:{currentProjectId:0,projects:[{id:0,name:"Task management system",developersId:[0,1,2,6],tasks:[{id:0,name:"Create repository",description:"This makes the changes in your file available to people you are working with.",priority:7,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:{id:2,name:"Andrey",surname:"Lukichev",position:"team leader",accesses:[1,2,3],projects:[0,3]}},{id:1,name:"Create React app",description:"ReactJS offers graceful solutions to some of front-end programming\u2019s most persistent issues, allowing you to build dynamic and interactive web apps with ease. It\u2019s fast, scalable, flexible, powerful, and has a robust developer community that\u2019s rapidly growing. There\u2019s never been a better time to learn React.",priority:6,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:{id:2,name:"Andrey",surname:"Lukichev",position:"team leader",accesses:[1,2,3],projects:[0,3]}},{id:2,name:"Initial Project",description:"It\u2019s fast, scalable, flexible, powerful, and has a robust developer community that\u2019s rapidly growing. There\u2019s never been a better time to learn React.",priority:3,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:{id:2,name:"Andrey",surname:"Lukichev",position:"team leader",accesses:[1,2,3],projects:[0,3]}}]},{id:1,name:"Shop online",developersId:[3,4,5,6],tasks:[{id:0,name:"Create repository",description:"This makes the changes in your file available to people you are working with.",priority:7,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:{id:3,name:"Alex",surname:"Leenders",position:"team leader",accesses:[1,2,3],projects:[1,2]}},{id:1,name:"Create React app",description:"ReactJS offers graceful solutions to some of front-end programming\u2019s most persistent issues, allowing you to build dynamic and interactive web apps with ease. It\u2019s fast, scalable, flexible, powerful, and has a robust developer community that\u2019s rapidly growing. There\u2019s never been a better time to learn React.",priority:6,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:{id:3,name:"Alex",surname:"Leenders",position:"team leader",accesses:[1,2,3],projects:[1,2]}}]},{id:2,name:"New project",developersId:[0,1,3,6],tasks:[{id:0,name:"create project",description:"This makes the changes in your file available to people you are working with.",priority:7,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:{id:3,name:"Alex",surname:"Leenders",position:"team leader",accesses:[1,2,3],projects:[1,2]}}]},{id:3,name:"New project 33",developersId:[0,1,2,6],tasks:[{id:0,name:"create project",description:"This makes the changes in your file available to people you are working with.",priority:7,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:{id:2,name:"Andrey",surname:"Lukichev",position:"team leader",accesses:[1,2,3],projects:[0,3]}}]}]},reducers:{takeTaskForDevelopment:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s=e.projects[r].tasks.findIndex((function(e){return e.id===t.payload.taskId}));e.projects[r].tasks[s].status="development",e.projects[r].tasks[s].developer=t.payload.developer},takeTaskForReview:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s=e.projects[r].tasks.findIndex((function(e){return e.id===t.payload.taskId}));e.projects[r].tasks[s].status="testing",e.projects[r].tasks[s].tester=t.payload.tester},giveTaskForReview:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s=e.projects[r].tasks.findIndex((function(e){return e.id===t.payload.taskId}));e.projects[r].tasks[s].forReview=!0},approveTask:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s=e.projects[r].tasks.findIndex((function(e){return e.id===t.payload.taskId}));e.projects[r].tasks[s].status="ready"},sendMessage:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s=e.projects[r].tasks.findIndex((function(e){return e.id===t.payload.taskId})),n=e.projects[r].tasks[s].communication.length,a=0===n?0:e.projects[r].tasks[s].communication[n-1].id+1;e.projects[r].tasks[s].communication.push({id:a,message:t.payload.message,author:t.payload.author,whoRead:[t.payload.author.id]})},takeTaskForRevision:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s=e.projects[r].tasks.findIndex((function(e){return e.id===t.payload.taskId}));e.projects[r].tasks[s].status="development",e.projects[r].tasks[s].forReview=!1},setCurrentProjectId:function(e,t){e.currentProjectId=t.payload.currentProject},addNewTaskToProject:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s={id:0!==e.projects[r].tasks.length?e.projects[r].tasks[e.projects[r].tasks.length-1].id+1:0,name:t.payload.name,description:t.payload.description,priority:t.payload.priority,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:t.payload.currentUser};e.projects[r].tasks.push(s)},addNewProject:function(e,t){var r={id:e.projects[e.projects.length-1].id+1,name:t.payload.name,developersId:t.payload.developersId,tasks:[]};e.projects.push(r)},addNewUserToProject:function(e,t){var r=t.payload.users.map((function(e){return e.id})),s=e.projects.filter((function(e){return e.id===t.payload.projectId}))[0].developersId;e.projects.filter((function(e){return e.id===t.payload.projectId}))[0].developersId=[].concat(Object(O.a)(s),Object(O.a)(r))},readAllMessageInTask:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s=e.projects[r].tasks.findIndex((function(e){return e.id===t.payload.taskId}));e.projects[r].tasks[s].communication.forEach((function(e){e.whoRead=e.whoRead.includes(t.payload.userId)?e.whoRead:[].concat(Object(O.a)(e.whoRead),[t.payload.userId])}))}}}),f=x.actions,h=f.takeTaskForDevelopment,v=f.takeTaskForReview,g=f.giveTaskForReview,k=f.approveTask,y=f.sendMessage,I=f.takeTaskForRevision,U=f.setCurrentProjectId,T=f.addNewTaskToProject,w=f.addNewProject,C=f.addNewUserToProject,P=f.readAllMessageInTask,M=x.reducer,A=Object(d.b)({name:"users",initialState:{currentColor:{name:"start",primary:{main:"#3F51B5"},secondary:{main:"#2979ff"}},colors:[{name:"yellow",primary:{main:"#f9a825"},secondary:{main:"#f9a825"}},{name:" teal",primary:{main:"#009688"},secondary:{main:"#1de9b6"}},{name:"purple",primary:{main:"#6a1b9a"},secondary:{main:"#6a1b9a"}},{name:"lime",primary:{main:"#9e9d24"},secondary:{main:"#9e9d24"}},{name:"blue",primary:{main:"#2196f3"},secondary:{main:"#2979ff"}},{name:"green",primary:{main:"#2e7d32"},secondary:{main:"#2e7d32"}},{name:"start",primary:{main:"#3F51B5"},secondary:{main:"#2979ff"}}]},reducers:{setCurrentColor:function(e,t){e.currentColor=e.colors.filter((function(e){return e.name===t.payload.name}))[0]}}}),F=A.actions.setCurrentColor,R=A.reducer,N=r(283),S=r(284),L=r(242),B=r(79),W=r(164),D=r.n(W),E=r(280),q=r(305),z=r(304),H=r(240),J=r(277),Y=r(278),V=r(60),G=r.n(V),Z=r(157),_=r.n(Z),K=r(159),Q=r.n(K),X=r(160),$=r.n(X),ee=r(161),te=r.n(ee),re=r(162),se=r.n(re),ne=r(57),ae=r(158),ce=r.n(ae),ie=r(163),oe=r.n(ie),de=r(279),le=r(1),ue=G()({list:{width:250,color:"unset",textDecoration:"none"},fullList:{width:180,height:25,overflow:"hidden",textOverflow:"ellipsis"}}),je=function(e){var t=ue();return Object(le.jsx)(ne.b,{to:e.url?e.url:"/boards",className:t.list,children:Object(le.jsxs)(H.a,{button:!0,children:[Object(le.jsx)(J.a,{children:e.icon}),Object(le.jsx)(Y.a,{primary:e.text}),e.badgeContent?Object(le.jsx)(de.a,{color:"error",badgeContent:e.badgeContent,variant:"dot"}):null]},e.text)})};var pe=function(e){var t,r=ue();return Object(le.jsxs)(z.a,{variant:"persistent",open:e.isOpenLeftMenu,children:[Object(le.jsxs)(q.a,{display:"flex",p:1,children:[Object(le.jsxs)(q.a,{alignSelf:"center",flexGrow:1,p:1,children:[Object(le.jsx)(B.a,{className:r.fullList,variant:"subtitle1",color:"primary",children:null===e.currentProjectId?"no projects available":null===(t=e.currentProject)||void 0===t?void 0:t.name}),Object(le.jsx)(B.a,{variant:"caption",children:"WorkBoards v0.01"})]}),Object(le.jsx)(q.a,{p:1,alignSelf:"center",justifyContent:"flex-end",children:Object(le.jsx)(L.a,{edge:"start",onClick:function(){return e.setIsOpenLeftMenu(!1)},color:"primary","aria-label":"menu",children:Object(le.jsx)(_.a,{})})})]}),Object(le.jsx)(je,{url:"/projects",icon:Object(le.jsx)(ce.a,{}),text:"Projects",badgeContent:e.messagesForAllProjects}),Object(le.jsx)(je,{url:"/currentProject",icon:Object(le.jsx)(Q.a,{}),text:"Current project",badgeContent:e.messagesForCurrentProject}),Object(le.jsx)(je,{url:"/currentTasks",icon:Object(le.jsx)($.a,{}),text:"My tasks",badgeContent:e.messagesForCurrentProject}),e.accesses.includes(3)&&Object(le.jsx)(je,{url:"/addTaskForm",icon:Object(le.jsx)(te.a,{}),text:"Add tasks"}),e.accesses.includes(4)&&Object(le.jsx)(je,{url:"/addProjectForm",icon:Object(le.jsx)(se.a,{}),text:"Add project"}),e.accesses.includes(5)&&Object(le.jsx)(je,{url:"/addUserForm",icon:Object(le.jsx)(oe.a,{}),text:"Add user"})]})},be=r(49),me=r(75),Oe=r.n(me),xe=r(175),fe=r(281),he=r(243),ve=r(128),ge=r.n(ve),ke=["setCurrentUser","setCurrentProjectId","currentUser","users","currentProjectId"],ye=Object(E.a)((function(e){return{button:{color:e.palette.primary.contrastText},menuItem:{backgroundColor:ge.a[100]},list:{maxHeight:500,overflow:"auto"}}})),Ie=function(e){var t=e.setCurrentUser,r=e.setCurrentProjectId,n=e.currentUser,a=e.users,c=e.currentProjectId,o=(Object(be.a)(e,ke),ye()),d=a.map((function(e){return Object(le.jsx)(fe.a,{className:n.id===e.id?o.menuItem:"",onClick:function(){t(e),r(0===e.projects.length?{currentProject:null}:{currentProject:e.projects.includes(c)?c:e.projects[0]}),b()},children:"".concat(e.name," ").concat(e.surname," (").concat(e.position,")")})})),l=Object(s.useState)(null),u=Object(i.a)(l,2),j=u[0],p=u[1],b=function(){p(null)};return Object(le.jsxs)("div",{children:[Object(le.jsx)(he.a,{className:o.button,onClick:function(e){p(e.currentTarget)},endIcon:Object(le.jsx)(Oe.a,{}),children:"".concat(n.name," ").concat(n.surname," (").concat(n.position,")")}),Object(le.jsx)(xe.a,{anchorEl:j,keepMounted:!0,open:Boolean(j),onClose:b,className:o.list,children:d})]})},Ue=r(306),Te=r(132),we=r.n(Te),Ce=function(e){return Object(E.a)((function(t){return{avatar:{backgroundColor:e}}}))()},Pe=Object(E.a)((function(e){return{box:{maxHeight:200,overflowY:"auto"},icon:{color:e.palette.primary.contrastText}}})),Me=function(e){var t=e.colors,r=e.setCurrentColor,n=e.currentColor,a=e.setColor,c=Pe(),o=t.map((function(e){return Object(le.jsx)(fe.a,{onClick:function(){r({name:e.name}),a({palette:{primary:{main:e.primary.main},secondary:{main:e.secondary.main}}}),p()},children:Object(le.jsx)(Ue.a,{className:Ce(e.primary.main).avatar,children:Object(le.jsx)(we.a,{})})})})),d=Object(s.useState)(null),l=Object(i.a)(d,2),u=l[0],j=l[1],p=function(){j(null)};return Object(le.jsxs)("div",{children:[Object(le.jsx)(he.a,{onClick:function(e){j(e.currentTarget)},children:Object(le.jsx)(Ue.a,{className:Ce(n.primary.main).avatar,children:Object(le.jsx)(we.a,{className:c.icon})})}),Object(le.jsx)(xe.a,{anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:p,children:Object(le.jsx)(q.a,{className:c.box,children:o})})]})},Ae=Object(E.a)((function(e){return{menuButton:{marginRight:e.spacing(1)},title:{flexGrow:1}}})),Fe=function(e){var t=Object(s.useState)(!1),r=Object(i.a)(t,2),n=r[0],a=r[1],c=Ae();return Object(le.jsxs)(q.a,{width:"100%",children:[Object(le.jsx)(pe,{currentProject:e.currentProject,accesses:e.currentUser.accesses,isOpenLeftMenu:n,setIsOpenLeftMenu:a,messagesForCurrentProject:e.messagesForCurrentProject,currentProjectId:e.currentProjectId,messagesForAllProjects:e.messagesForAllProjects}),Object(le.jsx)(N.a,{position:"static",children:Object(le.jsxs)(S.a,{children:[Object(le.jsx)(L.a,{edge:"start",className:c.menuButton,onClick:function(){return a(!0)},color:"inherit","aria-label":"menu",children:Object(le.jsx)(D.a,{})}),Object(le.jsx)(B.a,{align:"left",variant:"h6",className:c.title,children:"WorkBoards"}),Object(le.jsxs)(q.a,{display:"flex",alignItems:"center",children:[Object(le.jsx)(Me,{colors:e.colors,currentColor:e.currentColor,setCurrentColor:e.setCurrentColor,setColor:e.setColor}),Object(le.jsx)(Ie,{users:e.users,setCurrentUser:e.setCurrentUser,currentUser:e.currentUser,currentProjectId:e.currentProjectId,setCurrentProjectId:e.setCurrentProjectId})]})]})})]})};function Re(e,t){return null!==t?e.filter((function(e){return e.id===t}))[0]:null}function Ne(e,t,r){return null!==r?e.filter((function(e){return e.id===r}))[0].tasks.filter((function(e){var r,s;return(null===(r=e.developer)||void 0===r?void 0:r.id)===t||(null===(s=e.tester)||void 0===s?void 0:s.id)===t})):[]}function Se(e,t,r){var s=t.accesses.includes(1)&&null!==r?e.filter((function(e){return e.id===r}))[0].tasks.filter((function(e){return"newTask"===e.status})):[],n=t.accesses.includes(2)&&null!==r?e.filter((function(e){return e.id===r}))[0].tasks.filter((function(e){return null===e.tester&&!0===e.forReview})):[];return[].concat(Object(O.a)(s),Object(O.a)(n))}function Le(e,t){return t?e.filter((function(e){return e.id===t}))[0].name:null}function Be(e,t){var r=[];return e.tasks.forEach((function(e){var s,n,a;((null===(s=e.tester)||void 0===s?void 0:s.id)===t||(null===(n=e.developer)||void 0===n?void 0:n.id)===t||(null===(a=e.creator)||void 0===a?void 0:a.id)===t)&&e.communication.forEach((function(e){!e.whoRead.includes(t)&&r.push(1)}))})),r.length}function We(e,t){var r=[];return e.forEach((function(e){e.developersId.includes(t)&&e.tasks.forEach((function(e){var s,n,a;((null===(s=e.tester)||void 0===s?void 0:s.id)===t||(null===(n=e.developer)||void 0===n?void 0:n.id)===t||(null===(a=e.creator)||void 0===a?void 0:a.id)===t)&&e.communication.forEach((function(e){!e.whoRead.includes(t)&&r.push(1)}))}))})),r.length}function De(e,t){return e.communication.filter((function(e){return!e.whoRead.includes(t)})).length}function Ee(e,t){var r=[];return e.tasks.forEach((function(e){var s;(null===(s=e.creator)||void 0===s?void 0:s.id)===t&&r.push(e)})),r}var qe=Object(o.b)((function(e){return{users:e.users.users,currentUser:e.users.currentUser,currentProjectId:e.projects.currentProjectId,colors:e.settings.colors,currentColor:e.settings.currentColor,currentProject:Re(e.projects.projects,e.projects.currentProjectId),messagesForAllProjects:We(e.projects.projects,e.users.currentUser.id),messagesForCurrentProject:Be(e.projects.projects.filter((function(t){return t.id===e.projects.currentProjectId}))[0],e.users.currentUser.id)}}),{setCurrentUser:j,setCurrentProjectId:U,setCurrentColor:F})(Fe),ze=r(24),He=r(290),Je=r(135),Ye=r(289),Ve=r(286),Ge=r(287),Ze=r(288),_e=r(307),Ke=r(285),Qe=r(302),Xe=function(e){var t=e.users.map((function(t){return Object(le.jsxs)(fe.a,{onClick:function(){e.selectedUsers.includes(t)?e.setSelectedUsers(Object(O.a)(e.selectedUsers.filter((function(e){return t.id!==e.id})))):e.setSelectedUsers([].concat(Object(O.a)(e.selectedUsers),[t]))},children:[Object(le.jsx)(Qe.a,{checked:e.selectedUsers.includes(t),inputProps:{"aria-label":"Checkbox A"}}),"".concat(t.name," ").concat(t.surname," (").concat(t.position,")")]})})),r=Object(s.useState)(null),n=Object(i.a)(r,2),a=n[0],c=n[1];return Object(le.jsxs)("div",{children:[Object(le.jsx)(he.a,{fullWidth:!0,onClick:function(e){c(e.currentTarget)},endIcon:Object(le.jsx)(Oe.a,{}),color:"primary",size:"large",variant:"contained",children:"select team"}),Object(le.jsx)(xe.a,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:function(){c(null)},children:t})]})},$e=["projectId","availableUsers","selectedUsers","setSelectedUsers"],et=Object(E.a)((function(e){return{paper:{padding:5,minHeight:58},button:{marginTop:5,marginBottom:5}}})),tt=function(e){e.projectId;var t=e.availableUsers,r=e.selectedUsers,s=e.setSelectedUsers,n=Object(be.a)(e,$e),a=et(),c=r.map((function(e){return Object(le.jsx)(Ke.a,{item:!0,children:Object(le.jsx)(_e.a,{avatar:Object(le.jsxs)(Ue.a,{children:[e.name.split("")[0],e.surname.split("")[0]]}),label:"".concat(e.name," ").concat(e.surname," (").concat(e.position,")"),color:"primary",clickable:!0,onDelete:function(){return s(Object(O.a)(r.filter((function(t){return e.id!==t.id}))))}})})}));return Object(le.jsxs)(Ke.a,{container:!0,spacing:1,direction:"row",alignItems:"flex-start",children:[Object(le.jsx)(Ke.a,{item:!0,xs:9,children:Object(le.jsx)(Je.a,{className:a.paper,children:0===r.length?Object(le.jsx)(B.a,{variant:"subtitle1",color:"textSecondary",align:"left",children:"select new workers for the project *"}):Object(le.jsx)(Ke.a,{container:!0,spacing:1,direction:"row",children:c})})}),Object(le.jsx)(Ke.a,{item:!0,xs:3,children:Object(le.jsx)(Xe,{users:t,setSelectedUsers:s,selectedUsers:r})}),Object(le.jsx)(Ke.a,{container:!0,justifyContent:"center",children:Object(le.jsx)(he.a,{className:a.button,onClick:function(){return n.onSubmit()},size:"large",variant:"contained",color:"primary",children:"Add to project"})})]})},rt=Object(E.a)((function(e){return{dialogContent:{overflow:"hidden",overflowY:"hidden"},placeForMessages:{minHeight:165,maxHeight:400,marginTop:10,marginBottom:10,overflowY:"auto"},inputMessage:{marginBottom:5},button:{width:180}}})),st=function(e){var t=rt(),r=Object(s.useState)([]),n=Object(i.a)(r,2),a=n[0],c=n[1];return Object(le.jsxs)(Ve.a,{fullWidth:!0,open:e.isOpenMenuAddingWorkers,onClose:function(){return e.setIsOpenMenuAddingWorkers(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(le.jsx)(Ge.a,{id:"alert-dialog-title",children:Object(le.jsx)(B.a,{variant:"h6",color:"primary",align:"center",children:'Adding workers to the project: "'.concat(e.project.name,'"')})}),Object(le.jsx)(Ze.a,{className:t.dialogContent,children:Object(le.jsx)(tt,{projectId:e.project.id,availableUsers:e.availableUsers,selectedUsers:a,onSubmit:function(){e.addNewUserToProject({projectId:e.project.id,users:a}),e.addProjectInArrayOfUsers({users:a.map((function(e){return e.id})),projectId:e.project.id}),e.setIsOpenMenuAddingWorkers(!1),c([])},setSelectedUsers:c})})]})},nt=r(166),at=r.n(nt),ct=r(165),it=r.n(ct),ot=Object(E.a)((function(e){return{projects:{margin:10,padding:25},button:{marginLeft:5},list:{color:"inherit",textDecoration:"none"},tasks:{margin:5,marginLeft:"auto"}}})),dt=function(e){var t,r,n=ot(),a=e.tasksOfUser.filter((function(e){return"ready"!==e.status})).length,c=Object(s.useState)(!1),o=Object(i.a)(c,2),d=o[0],l=o[1],u=Be(e.project,e.currentUser.id);return Object(le.jsxs)(Je.a,{elevation:e.project.id===e.currentProjectId?10:2,className:n.projects,onClick:function(){return e.setCurrentProjectId({currentProject:e.project.id})},children:[Object(le.jsxs)(q.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(le.jsxs)(B.a,{variant:"h6",color:e.project.id===e.currentProjectId?"secondary":"primary",children:[e.project.name,0!==u&&Object(le.jsx)(de.a,{color:"error",badgeContent:u,children:Object(le.jsx)(it.a,{className:n.button})}),e.currentUser.accesses.includes(4)&&Object(le.jsx)(he.a,{className:n.button,onClick:function(){return l(!0)},color:"primary",children:Object(le.jsx)(at.a,{})})]}),Object(le.jsxs)(q.a,{children:[Object(le.jsx)(de.a,{color:"primary",badgeContent:a,showZero:!0,children:Object(le.jsx)(B.a,{children:"Current tasks"})}),Object(le.jsx)(Ye.a,{className:n.tasks}),Object(le.jsx)(de.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"primary",badgeContent:e.userAccessibleTasks.length,className:n.tasks,showZero:!0,children:Object(le.jsx)(B.a,{children:"Available tasks"})})]})]}),Object(le.jsx)(st,{setIsOpenMenuAddingWorkers:l,addProjectInArrayOfUsers:e.addProjectInArrayOfUsers,isOpenMenuAddingWorkers:d,addNewUserToProject:e.addNewUserToProject,project:e.project,availableUsers:(t=e.project,r=e.users,r.filter((function(e){return!t.developersId.includes(e.id)})))})]})},lt=function(e){var t=e.projectsForUser.map((function(t){return Object(le.jsx)(dt,{currentProjectId:e.currentProjectId,project:t,currentUser:e.currentUser,users:e.users,addProjectInArrayOfUsers:e.addProjectInArrayOfUsers,addNewUserToProject:e.addNewUserToProject,tasksOfUser:Ne([t],e.currentUser.id,t.id),userAccessibleTasks:Se([t],e.currentUser,t.id),setCurrentProjectId:e.setCurrentProjectId})}));return Object(le.jsxs)(He.a,{children:[Object(le.jsx)(B.a,{variant:"h6",color:"primary",children:0===e.currentUser.projects.length?"you are not involved in any of the projects":"Select the project you want to work on"}),t]})},ut=Object(o.b)((function(e){return{currentUser:e.users.currentUser,currentProjectId:e.projects.currentProjectId,projectsForUser:(t=e.projects.projects,r=e.users.currentUser.id,0!==t.length?t.filter((function(e){return e.developersId.includes(r)})):[]),users:e.users.users};var t,r}),{setCurrentProjectId:U,addNewUserToProject:C,addProjectInArrayOfUsers:b})(lt),jt=r(11),pt=r(301),bt=r(299),mt=r(296),Ot=r(293),xt=r(167),ft=r.n(xt),ht=function(e){return Object(le.jsx)(q.a,{display:"flex",justifyContent:"space-between",ml:1,children:Object(le.jsx)(de.a,{badgeContent:e.priority,color:e.priority>6?"error":"primary",children:Object(le.jsx)(ft.a,{color:"primary"})})})},vt=Object(E.a)((function(e){return{description:{maxHeight:100,overflow:"hidden",textOverflow:"ellipsis"}}})),gt=function(e){var t=vt();return Object(le.jsxs)(q.a,{children:[Object(le.jsx)(B.a,{variant:"body2",component:"p",align:"left",className:t.description,children:e.description}),Object(le.jsx)(q.a,{display:"box",children:Object(le.jsx)(he.a,{onClick:function(){return e.setIsOpenMoreInformation(!0)},size:"small",children:"... learn more"})})]})},kt=r(303),yt=r(292),It=r(282),Ut=r(291),Tt=r(114),wt=r.n(Tt),Ct=function(e){var t,r,s,n,a,c;return Object(le.jsxs)(kt.a,{children:[Object(le.jsx)(Ut.a,{expandIcon:Object(le.jsx)(wt.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(le.jsx)(B.a,{children:"Current workers"})}),Object(le.jsx)(yt.a,{children:Object(le.jsxs)(It.a,{children:[Object(le.jsx)(Y.a,{primary:"".concat(null===(t=e.creator)||void 0===t?void 0:t.name," ").concat(null===(r=e.creator)||void 0===r?void 0:r.surname),secondary:"creator"}),e.developer&&Object(le.jsx)(Y.a,{primary:"".concat(null===(s=e.developer)||void 0===s?void 0:s.name," ").concat(null===(n=e.developer)||void 0===n?void 0:n.surname),secondary:"developer"}),e.tester&&Object(le.jsx)(Y.a,{primary:"".concat(null===(a=e.tester)||void 0===a?void 0:a.name," ").concat(null===(c=e.tester)||void 0===c?void 0:c.surname),secondary:"tester"})]})})]})},Pt=function(e){return Object(le.jsxs)(kt.a,{children:[Object(le.jsx)(Ut.a,{expandIcon:Object(le.jsx)(wt.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(le.jsx)(B.a,{children:"Description"})}),Object(le.jsx)(yt.a,{children:e.description})]})},Mt=Object(E.a)((function(e){return{title:{display:"flex",justifyContent:"space-between",alignItems:"center"},subTitle:{display:"flex",alignItems:"center",marginRight:50}}})),At=function(e){var t=Mt();return Object(le.jsxs)(q.a,{className:t.title,children:[Object(le.jsxs)(q.a,{className:t.subTitle,children:[Object(le.jsx)(B.a,{color:"primary",variant:"h6",children:e.name}),Object(le.jsx)(ht,{priority:e.priority})]}),Object(le.jsx)(_e.a,{label:e.status,color:"primary"})]})},Ft=Object(E.a)((function(e){return{title:{display:"flex",justifyContent:"space-between",alignItems:"center"},subTitle:{display:"flex",alignItems:"center"}}})),Rt=function(e){Ft();return Object(le.jsxs)(Ve.a,{open:e.isOpenMoreInformation,onClose:function(){return e.setIsOpenMoreInformation(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(le.jsx)(Ge.a,{id:"alert-dialog-title",children:Object(le.jsx)(At,{name:e.name,status:e.status,priority:e.priority})}),Object(le.jsxs)(Ze.a,{children:[Object(le.jsx)(Ct,{creator:e.creator,developer:e.developer,tester:e.tester}),Object(le.jsx)(Pt,{description:e.description})]})]})},Nt=function(e){var t=n.a.useState(!1),r=Object(i.a)(t,2),s=r[0],a=r[1];return Object(le.jsxs)(Ot.a,{children:[Object(le.jsxs)(q.a,{display:"flex",justifyContent:"space-between",alignContent:"center",children:[Object(le.jsx)(B.a,{variant:"h6",component:"h2",display:"inline",children:e.name}),Object(le.jsx)(ht,{priority:e.priority})]}),Object(le.jsx)(Ye.a,{variant:"middle"}),Object(le.jsx)(gt,{description:e.description,setIsOpenMoreInformation:a}),Object(le.jsx)(Rt,Object(jt.a)({isOpenMoreInformation:s,setIsOpenMoreInformation:a},e))]})},St=r(133),Lt=r.n(St),Bt=r(294),Wt=r(297),Dt=r(76),Et=r.n(Dt),qt=r(308),zt=r(295),Ht=r(168),Jt=r.n(Ht),Yt=G()((function(){return Object(Bt.a)({message:{maxWidth:"20vw",minWidth:250}})})),Vt=function(e){var t=Yt();return Object(le.jsxs)("div",{className:t.message,children:[Object(le.jsx)(B.a,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"".concat(e.author.name," ").concat(e.author.surname," (").concat(e.author.position,")")}),Object(le.jsx)(B.a,{color:"textPrimary",variant:"body2",gutterBottom:!0,children:e.message})]})},Gt=r(116),Zt=r(115),_t=G()((function(){return Object(Bt.a)({allMessage:{paddingLeft:10,paddingRight:10,paddingBottom:10},messageRight:{marginLeft:"auto",backgroundColor:Gt.a[100],padding:5,marginTop:10},messageLeft:{marginRight:"auto",backgroundColor:Zt.a[100],padding:5,marginTop:10}})})),Kt=function(e){var t=_t(),r=e.messages.map((function(r,s){return Object(le.jsx)(Je.a,{className:r.author.id===e.currentUserId?t.messageRight:t.messageLeft,children:Object(le.jsx)(Vt,Object(jt.a)({},r))},r.id)}));return Object(le.jsx)(q.a,{className:t.allMessage,display:"flex",flexDirection:"column",children:r})},Qt=Object(E.a)((function(e){return{dialogContent:{overflow:"hidden",overflowY:"hidden"},placeForMessages:{minHeight:165,maxHeight:400,marginTop:10,marginBottom:10,overflowY:"auto"},inputMessage:{marginBottom:5}}})),Xt=function(e){var t=Qt(),r=Object(s.useState)(""),n=Object(i.a)(r,2),a=n[0],c=n[1];return Object(le.jsxs)(Ve.a,{fullWidth:!0,open:e.isOpenMessages,onClose:function(){return e.setIsOpenMessages(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(le.jsx)(Ge.a,{id:"alert-dialog-title",children:Object(le.jsx)(At,{name:e.name,priority:e.priority,status:e.status})}),Object(le.jsxs)(Ze.a,{className:t.dialogContent,children:[Object(le.jsx)(Ct,{creator:e.creator,developer:e.developer,tester:e.tester}),Object(le.jsx)(Je.a,{elevation:3,className:t.placeForMessages,children:Object(le.jsx)(Kt,{messages:e.communication,currentUserId:e.currentUser.id})}),Object(le.jsx)(qt.a,{multiline:!0,maxRows:5,placeholder:"enter message...",fullWidth:!0,className:t.inputMessage,onChange:function(e){return c(e.target.value)},value:a,endAdornment:Object(le.jsx)(zt.a,{position:"end",defaultValue:a,children:Object(le.jsx)(L.a,{onClick:function(){e.sendMessage({taskId:e.id,message:a,author:e.currentUser}),c("")},children:Object(le.jsx)(Jt.a,{color:"primary"})})})})]})]})},$t=G()((function(){return Object(Bt.a)({root:{width:"100%",marginTop:"auto"}})})),er=function(e){var t,r,s,a,c,o,d=$t(),l=n.a.useState(!1),u=Object(i.a)(l,2),j=u[0],p=u[1];return Object(le.jsxs)(mt.a,{children:[Object(le.jsx)(Nt,Object(jt.a)({},e.task)),Object(le.jsxs)(q.a,{display:"flex",justifyContent:"space-between",alignContent:"center",m:1,children:[(e.currentUser.id===(null===(t=e.task.developer)||void 0===t?void 0:t.id)||e.currentUser.id===(null===(r=e.task.tester)||void 0===r?void 0:r.id)||e.currentUser.id===(null===(s=e.task.creator)||void 0===s?void 0:s.id))&&Object(le.jsx)(he.a,{onClick:function(){p(!0),e.readAllMessageInTask({taskId:e.task.id,userId:e.currentUser.id})},children:Object(le.jsx)(de.a,{badgeContent:e.unreadMessagesLength,color:"error",children:Object(le.jsx)(Et.a,{color:"primary"})})}),e.currentUser.id===(null===(a=e.task.developer)||void 0===a?void 0:a.id)&&!e.task.forReview&&Object(le.jsx)(he.a,{color:"primary",onClick:function(){return e.giveTaskForReview({taskId:e.task.id})},endIcon:Object(le.jsx)(Lt.a,{}),size:"medium",children:"ready for review"}),e.currentUser.id!==(null===(c=e.task.developer)||void 0===c?void 0:c.id)&&e.task.forReview&&e.currentUser.accesses.includes(2)&&Object(le.jsx)(he.a,{color:"primary",onClick:function(){return e.takeTaskForReview({tester:e.currentUser,taskId:e.task.id})},endIcon:Object(le.jsx)(Lt.a,{}),size:"medium",children:"submit for verification"}),e.currentUser.id!==(null===(o=e.task.developer)||void 0===o?void 0:o.id)&&!e.task.forReview&&Object(le.jsx)("div",{className:d.root,children:Object(le.jsx)(Wt.a,{})}),Object(le.jsx)(Xt,Object(jt.a)({sendMessage:e.sendMessage,currentUser:e.currentUser,isOpenMessages:j,setIsOpenMessages:p},e.task))]})]})},tr=r(298),rr=r(169),sr=r.n(rr),nr=r(170),ar=r.n(nr),cr=function(e){var t,r,s,a,c,o=n.a.useState(!1),d=Object(i.a)(o,2),l=d[0],u=d[1];return Object(le.jsxs)(mt.a,{children:[Object(le.jsx)(Nt,Object(jt.a)({},e.task)),Object(le.jsx)(q.a,{display:"flex",justifyContent:"space-between",m:1,children:Object(le.jsxs)(tr.a,{variant:"text",color:"primary","aria-label":"text primary button group",children:[(e.currentUser.id===(null===(t=e.task.developer)||void 0===t?void 0:t.id)||e.currentUser.id===(null===(r=e.task.tester)||void 0===r?void 0:r.id)||e.currentUser.id===(null===(s=e.task.creator)||void 0===s?void 0:s.id))&&Object(le.jsx)(he.a,{onClick:function(){u(!0),e.readAllMessageInTask({taskId:e.task.id,userId:e.currentUser.id})},children:Object(le.jsx)(de.a,{badgeContent:e.unreadMessagesLength,color:"error",children:Object(le.jsx)(Et.a,{color:"primary"})})}),(null===(a=e.task.tester)||void 0===a?void 0:a.id)===e.currentUser.id&&Object(le.jsx)(he.a,{color:"secondary",onClick:function(){return e.takeTaskForRevision({taskId:e.task.id})},endIcon:Object(le.jsx)(sr.a,{}),size:"medium",children:"revision"}),(null===(c=e.task.tester)||void 0===c?void 0:c.id)===e.currentUser.id&&Object(le.jsx)(he.a,{color:"primary",onClick:function(){return e.approveTask({taskId:e.task.id})},endIcon:Object(le.jsx)(ar.a,{}),size:"medium",children:"approve"}),Object(le.jsx)(Xt,Object(jt.a)({sendMessage:e.sendMessage,currentUser:e.currentUser,isOpenMessages:l,setIsOpenMessages:u},e.task))]})})]})},ir=r(171),or=r.n(ir),dr=function(e){return Object(le.jsxs)(mt.a,{children:[Object(le.jsx)(Nt,Object(jt.a)({},e.task)),Object(le.jsx)(q.a,{display:"flex",justifyContent:"flex-end",m:1,children:e.currentUser.accesses.includes(1)&&Object(le.jsx)(he.a,{color:"primary",onClick:function(){return e.takeTaskForDevelopment({developer:e.currentUser,taskId:e.task.id})},endIcon:Object(le.jsx)(or.a,{}),size:"medium",children:"take a task"})})]})},lr=Object(E.a)((function(e){return{container:{margin:10}}})),ur=function(e){var t=lr(),r=e.tasksOfUser.map((function(t){return"development"===t.status?Object(le.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(le.jsx)(er,{task:t,currentUser:e.currentUser,takeTaskForReview:e.takeTaskForReview,giveTaskForReview:e.giveTaskForReview,sendMessage:e.sendMessage,unreadMessagesLength:De(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask})}):"testing"===t.status?Object(le.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(le.jsx)(cr,{task:t,currentUser:e.currentUser,approveTask:e.approveTask,sendMessage:e.sendMessage,takeTaskForRevision:e.takeTaskForRevision,unreadMessagesLength:De(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask})}):"newTask"===t.status?Object(le.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(le.jsx)(dr,{task:t,currentUser:e.currentUser,takeTaskForDevelopment:e.takeTaskForDevelopment})}):null}));return Object(le.jsx)("div",{hidden:e.value!==e.index,className:t.container,children:e.value===e.index&&Object(le.jsx)(Ke.a,{container:!0,spacing:2,children:r})})},jr=r(172),pr=r.n(jr),br=["currentUser"],mr=Object(E.a)((function(e){return{container:{margin:10}}})),Or=function(e){var t=e.currentUser,r=Object(be.a)(e,br),s=mr(),n=r.userAccessibleTasks.map((function(e){return t.accesses.includes(1)&&t.accesses.includes(2)&&e.forReview?Object(le.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(le.jsx)(er,{currentUser:t,task:e,takeTaskForReview:r.takeTaskForReview,giveTaskForReview:r.giveTaskForReview,sendMessage:r.sendMessage,unreadMessagesLength:De(e,t.id),readAllMessageInTask:r.readAllMessageInTask})}):t.accesses.includes(1)&&t.accesses.includes(2)&&"newTask"===e.status||t.accesses.includes(1)?Object(le.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(le.jsx)(dr,{currentUser:t,task:e,takeTaskForDevelopment:r.takeTaskForDevelopment})}):t.accesses.includes(2)?Object(le.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(le.jsx)(er,{currentUser:t,task:e,takeTaskForReview:r.takeTaskForReview,giveTaskForReview:r.giveTaskForReview,sendMessage:r.sendMessage,unreadMessagesLength:De(e,t.id),readAllMessageInTask:r.readAllMessageInTask})}):void 0}));return Object(le.jsx)("div",{hidden:r.value!==r.index,className:s.container,children:r.value===r.index&&Object(le.jsx)(Ke.a,{container:!0,spacing:2,children:n})})},xr=r(173),fr=r.n(xr),hr=r(129),vr=r.n(hr),gr=r(136),kr=Object(gr.a)((function(e){return{icon:{color:vr.a[500]}}})),yr=function(e){var t,r,s,a=kr(),c=n.a.useState(!1),o=Object(i.a)(c,2),d=o[0],l=o[1];return Object(le.jsxs)(mt.a,{children:[Object(le.jsx)(Nt,Object(jt.a)({},e.task)),Object(le.jsxs)(q.a,{display:"flex",justifyContent:"space-between",m:1,children:[(e.currentUser.id===(null===(t=e.task.developer)||void 0===t?void 0:t.id)||e.currentUser.id===(null===(r=e.task.tester)||void 0===r?void 0:r.id)||e.currentUser.id===(null===(s=e.task.creator)||void 0===s?void 0:s.id))&&Object(le.jsx)(de.a,{badgeContent:e.unreadMessagesLength,color:"error",children:Object(le.jsx)(he.a,{onClick:function(){l(!0),e.readAllMessageInTask({taskId:e.task.id,userId:e.currentUser.id})},children:Object(le.jsx)(Et.a,{color:"primary"})})}),Object(le.jsx)(fr.a,{fontSize:"large",className:a.icon}),Object(le.jsx)(Xt,Object(jt.a)({sendMessage:e.sendMessage,currentUser:e.currentUser,isOpenMessages:d,setIsOpenMessages:l},e.task))]})]})},Ir=Object(E.a)((function(e){return{container:{margin:10}}})),Ur=function(e){var t=Ir(),r=e.tasksOfUser.map((function(t){if("ready"===t.status)return Object(le.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(le.jsx)(yr,{task:t,currentUser:e.currentUser,sendMessage:e.sendMessage,unreadMessagesLength:De(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask})})}));return Object(le.jsx)("div",{hidden:e.value!==e.index,className:t.container,children:e.value===e.index&&Object(le.jsx)(Ke.a,{container:!0,spacing:2,children:r})})},Tr=Object(E.a)((function(e){return{container:{margin:10}}})),wr=function(e){var t=Tr(),r=e.tasksCreatedByTheUser.map((function(t){return"development"===t.status?Object(le.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(le.jsx)(er,{task:t,currentUser:e.currentUser,takeTaskForReview:e.takeTaskForReview,giveTaskForReview:e.giveTaskForReview,sendMessage:e.sendMessage,unreadMessagesLength:De(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask})}):"testing"===t.status?Object(le.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(le.jsx)(cr,{task:t,currentUser:e.currentUser,approveTask:e.approveTask,sendMessage:e.sendMessage,takeTaskForRevision:e.takeTaskForRevision,unreadMessagesLength:De(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask})}):"newTask"===t.status?Object(le.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(le.jsx)(dr,{task:t,currentUser:e.currentUser,takeTaskForDevelopment:e.takeTaskForDevelopment})}):"ready"===t.status?Object(le.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(le.jsx)(yr,{task:t,currentUser:e.currentUser,sendMessage:e.sendMessage,unreadMessagesLength:De(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask})}):null}));return Object(le.jsx)("div",{hidden:e.value!==e.index,className:t.container,children:e.value===e.index&&Object(le.jsx)(Ke.a,{container:!0,spacing:2,children:r})})},Cr=Object(E.a)((function(e){return{container:{margin:10}}})),Pr=function(e){var t=n.a.useState(0),r=Object(i.a)(t,2),s=r[0],a=r[1],c=Cr();return Object(le.jsx)(He.a,{className:c.container,children:0===e.currentUser.projects.length?Object(le.jsx)(B.a,{variant:"h6",color:"primary",children:"to display available tasks select the current project in the projects section"}):Object(le.jsxs)("div",{children:[Object(le.jsx)(N.a,{position:"static",color:"default",children:Object(le.jsxs)(pt.a,{value:s,onChange:function(e,t){a(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example",children:[Object(le.jsx)(bt.a,{label:"New available tasks (".concat(e.userAccessibleTasks.length,")")}),Object(le.jsx)(bt.a,{icon:Object(le.jsx)(de.a,{color:"error",variant:"dot",badgeContent:Be({tasks:e.tasksOfUser.filter((function(e){return"ready"!==e.status}))},e.currentUser.id),children:"Current tasks (".concat(e.tasksOfUser.filter((function(e){return"ready"!==e.status})).length,")")})}),Object(le.jsx)(bt.a,{icon:Object(le.jsx)(de.a,{color:"error",variant:"dot",badgeContent:Be({tasks:e.tasksOfUser.filter((function(e){return"ready"===e.status}))},e.currentUser.id),children:"Completed tasks (".concat(e.tasksOfUser.filter((function(e){return"ready"===e.status})).length,")")})}),e.currentUser.accesses.includes(3)&&Object(le.jsx)(bt.a,{icon:Object(le.jsx)(de.a,{color:"error",variant:"dot",badgeContent:Be({tasks:e.tasksCreatedByTheUser},e.currentUser.id),children:"\u0421reated tasks (".concat(e.tasksCreatedByTheUser.length,")")})})]})}),Object(le.jsxs)(pr.a,{index:s,onChangeIndex:function(e){a(e)},children:[Object(le.jsx)(Or,Object(jt.a)(Object(jt.a)({},e),{},{value:s,index:0})),Object(le.jsx)(ur,Object(jt.a)(Object(jt.a)({},e),{},{value:s,index:1})),Object(le.jsx)(Ur,Object(jt.a)(Object(jt.a)({},e),{},{value:s,index:2})),e.currentUser.accesses.includes(3)&&Object(le.jsx)(wr,Object(jt.a)(Object(jt.a)({value:s},e),{},{index:3}))]})]})})},Mr=Object(o.b)((function(e){return{currentUser:e.users.currentUser,tasksOfUser:Ne(e.projects.projects,e.users.currentUser.id,e.projects.currentProjectId),userAccessibleTasks:Se(e.projects.projects,e.users.currentUser,e.projects.currentProjectId),tasksCreatedByTheUser:Ee(e.projects.projects.filter((function(t){return t.id===e.projects.currentProjectId}))[0],e.users.currentUser.id)}}),{takeTaskForDevelopment:h,takeTaskForReview:v,giveTaskForReview:g,readAllMessageInTask:P,approveTask:k,sendMessage:y,takeTaskForRevision:I})(Pr),Ar=r(300),Fr=r(77),Rr=Object(E.a)((function(e){return{container:{marginTop:10},button:{marginLeft:"auto"}}})),Nr=function(e){var t=Rr(),r=Object(Fr.a)({mode:"onChange"}),s=r.register,n=r.formState.errors,a=r.handleSubmit,c=r.reset;return Object(le.jsxs)("div",{children:[Object(le.jsx)(B.a,{variant:"h6",color:"primary",children:'\u0421reating a task for the project: "'.concat(e.currentProjectName,'"')}),e.currentUser.accesses.includes(3)&&null!==e.currentProjectId?Object(le.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:a((function(t){e.addNewTaskToProject({currentUser:e.currentUser,name:t.name,description:t.description,priority:t.priority}),c()})),children:Object(le.jsxs)(He.a,{className:t.container,children:[Object(le.jsxs)(Ke.a,{spacing:2,container:!0,children:[Object(le.jsxs)(Ke.a,{item:!0,xs:8,md:10,children:[Object(le.jsx)(Ar.a,Object(jt.a)(Object(jt.a)({variant:"outlined",fullWidth:!0,required:!0,error:!!n.name,helperText:n.name?"enter task name":null},s("name",{required:!0})),{},{name:"name",label:"name"})),Object(le.jsx)("br",{})]}),Object(le.jsxs)(Ke.a,{item:!0,xs:4,md:2,children:[Object(le.jsx)(Ar.a,Object(jt.a)(Object(jt.a)({variant:"outlined",fullWidth:!0,required:!0},s("priority",{required:!0,max:10})),{},{error:!!n.priority,type:"number",helperText:n.priority?"should be a value between 1 and 10":null,name:"priority",label:"priority"})),Object(le.jsx)("br",{})]}),Object(le.jsxs)(Ke.a,{item:!0,xs:12,children:[Object(le.jsx)(Ar.a,Object(jt.a)(Object(jt.a)({variant:"outlined",fullWidth:!0,required:!0},s("description",{required:!0})),{},{error:!!n.description,helperText:n.description?"enter task description":null,name:"description",label:"description"})),Object(le.jsx)("br",{})]})]}),Object(le.jsx)(he.a,{className:t.container,color:"primary",size:"large",type:"submit",variant:"contained",children:"create a new task"})]})}):Object(le.jsx)(ze.a,{to:"/projects"})]})},Sr=Object(o.b)((function(e){return{users:e.users.users,currentUser:e.users.currentUser,currentProjectId:e.projects.currentProjectId,currentProjectName:Le(e.projects.projects,e.projects.currentProjectId)}}),{addNewTaskToProject:T})(Nr),Lr=["selectedUsers","setSelectedUsers","isError"],Br=Object(E.a)((function(e){return{paper:{padding:5,minHeight:32}}})),Wr=function(e){var t=e.selectedUsers,r=e.setSelectedUsers,s=e.isError,n=Object(be.a)(e,Lr),a=Br(),c=t.map((function(e){return Object(le.jsx)(Ke.a,{item:!0,children:Object(le.jsx)(_e.a,{avatar:Object(le.jsxs)(Ue.a,{children:[e.name.split("")[0],e.surname.split("")[0]]}),label:"".concat(e.name," ").concat(e.surname," (").concat(e.position,")"),color:"primary",clickable:!0,onDelete:function(){return r(Object(O.a)(t.filter((function(t){return e.id!==t.id}))))}})})}));return Object(le.jsxs)(Ke.a,{container:!0,spacing:1,direction:"row",alignItems:"flex-start",children:[Object(le.jsx)(Ke.a,{item:!0,xs:9,md:10,children:Object(le.jsx)(Je.a,{className:a.paper,children:0===t.length?Object(le.jsx)(B.a,{variant:"subtitle1",color:"textSecondary",align:"left",children:"select workers for the project *"}):Object(le.jsx)(Ke.a,{container:!0,spacing:1,direction:"row",children:c})})}),Object(le.jsx)(Ke.a,{item:!0,xs:3,md:2,children:Object(le.jsx)(Xe,{users:n.users,setSelectedUsers:r,selectedUsers:t})}),s&&Object(le.jsx)(B.a,{variant:"caption",color:s?"error":"textSecondary",align:"right",children:"select workers for the project (you must be on the list)"})]})},Dr=Object(E.a)((function(e){return{container:{marginTop:20},button:{marginLeft:"auto"}}})),Er=function(e){var t=Dr(),r=Object(s.useState)([e.currentUser]),n=Object(i.a)(r,2),a=n[0],c=n[1],o=Object(s.useState)(!1),d=Object(i.a)(o,2),l=d[0],u=d[1],j=Object(s.useState)(!1),p=Object(i.a)(j,2),b=p[0],m=p[1],O=Object(Fr.a)({mode:"onChange"}),x=O.register,f=O.formState.errors,h=O.handleSubmit,v=O.reset;Object(s.useEffect)((function(){0!==a.length||!b&&a.map((function(e){return e.id})).includes(e.currentUser.id)?u(!1):u(!0)}),[a]);return Object(le.jsxs)("div",{children:[Object(le.jsx)(B.a,{variant:"h6",color:"primary",children:"\u0421reating a project"}),e.currentUser.accesses.includes(4)?Object(le.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:h((function(t){m(!0),0!==a.length&&a.map((function(e){return e.id})).includes(e.currentUser.id)?(e.addNewProject({name:t.name,developersId:a.map((function(e){return e.id}))}),e.addProjectInArrayOfUsers({users:a.map((function(e){return e.id})),projectId:e.projects[e.projects.length-1].id+1}),v(),c([]),m(!1),u(!1)):u(!0)})),children:Object(le.jsxs)(He.a,{className:t.container,children:[Object(le.jsxs)(Ke.a,{spacing:2,container:!0,children:[Object(le.jsxs)(Ke.a,{item:!0,xs:12,md:12,children:[Object(le.jsx)(Ar.a,Object(jt.a)(Object(jt.a)({variant:"outlined",fullWidth:!0,required:!0,error:!!f.name,helperText:f.name?"enter task name":null},x("name",{required:!0})),{},{name:"name",label:"name of project"})),Object(le.jsx)("br",{})]}),Object(le.jsx)(Ke.a,{item:!0,xs:12,md:12,children:Object(le.jsx)(Wr,Object(jt.a)(Object(jt.a)({},e),{},{isError:l,selectedUsers:a,setSelectedUsers:c}))})]}),Object(le.jsx)(he.a,{className:t.container,color:"primary",size:"large",type:"submit",variant:"contained",children:"create a new project"})]})}):Object(le.jsx)(ze.a,{to:"/projects"})]})},qr=Object(o.b)((function(e){return{users:e.users.users,currentUser:e.users.currentUser,currentProjectId:e.projects.currentProjectId,currentProjectName:Le(e.projects.projects,e.projects.currentProjectId),projects:e.projects.projects}}),{addNewProject:w,setCurrentProjectId:U,addProjectInArrayOfUsers:b})(Er),zr=Object(E.a)((function(e){return{board:{height:"80vh",overflow:"auto"}}})),Hr=function(e){var t=zr(),r=e.tasks.map((function(e){return Object(le.jsx)(Ke.a,{item:!0,xs:12,lg:6,children:e})}));return Object(le.jsxs)(Je.a,{elevation:5,className:t.board,children:[Object(le.jsx)(B.a,{align:"center",variant:"h6",children:e.title}),Object(le.jsx)(He.a,{children:Object(le.jsx)(Ke.a,{container:!0,spacing:1,children:r})})]})},Jr=Object(E.a)((function(e){return{workBoard:{margin:1}}})),Yr=function(e){var t,r=Jr(),s=e.currentTasks.map((function(t){return Object(le.jsx)(dr,{task:t,currentUser:e.currentUser,takeTaskForDevelopment:e.takeTaskForDevelopment})})),n=e.runningTasks.map((function(t){return Object(le.jsx)(er,{task:t,currentUser:e.currentUser,takeTaskForReview:e.takeTaskForReview,giveTaskForReview:e.giveTaskForReview,sendMessage:e.sendMessage,unreadMessagesLength:De(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask})})),a=e.reviewTasks.map((function(t){return Object(le.jsx)(cr,{task:t,currentUser:e.currentUser,approveTask:e.approveTask,sendMessage:e.sendMessage,takeTaskForRevision:e.takeTaskForRevision,unreadMessagesLength:De(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask})})),c=e.completedTasks.map((function(t){return Object(le.jsx)(yr,{task:t,currentUser:e.currentUser,sendMessage:e.sendMessage,unreadMessagesLength:De(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask})}));return Object(le.jsxs)("div",{children:[Object(le.jsx)(B.a,{align:"center",variant:"h6",color:"primary",children:(null===(t=e.currentProject)||void 0===t?void 0:t.name)||"select the current project in the projects section"}),e.currentProject&&Object(le.jsxs)(Ke.a,{container:!0,spacing:2,justifyContent:"center",className:r.workBoard,children:[Object(le.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(le.jsx)(Hr,{title:"Current tasks",tasks:s})}),Object(le.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(le.jsx)(Hr,{title:"Running tasks",tasks:n})}),Object(le.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(le.jsx)(Hr,{title:"Tasks under review",tasks:a})}),Object(le.jsx)(Ke.a,{item:!0,xs:12,md:6,children:Object(le.jsx)(Hr,{title:"Completed tasks",tasks:c})})]})]})};function Vr(e,t){return e?e.tasks.filter((function(e){return e.status===t})):[]}var Gr=Object(o.b)((function(e){return{currentUser:e.users.currentUser,currentProject:Re(e.projects.projects,e.projects.currentProjectId),currentTasks:Vr(Re(e.projects.projects,e.projects.currentProjectId),"newTask"),runningTasks:Vr(Re(e.projects.projects,e.projects.currentProjectId),"development"),reviewTasks:Vr(Re(e.projects.projects,e.projects.currentProjectId),"testing"),completedTasks:Vr(Re(e.projects.projects,e.projects.currentProjectId),"ready")}}),{takeTaskForDevelopment:h,takeTaskForReview:v,giveTaskForReview:g,approveTask:k,readAllMessageInTask:P,sendMessage:y,takeTaskForRevision:I})(Yr),Zr=r(174),_r=r(276),Kr=function(e){var t=[];return e.forEach((function(e){1===e?t.push({row:"development",num:1}):2===e?t.push({row:"testing",num:2}):3===e?t.push({row:"adding tasks",num:3}):4===e?t.push({row:"adding projects",num:4}):5===e&&t.push({row:"adding users",num:5})})),t},Qr=Kr([1,2,3,4,5]),Xr=function(e){var t=Qr.map((function(t){return Object(le.jsxs)(fe.a,{onClick:function(){e.selectedAccesses.includes(t.num)?e.setSelectedAccesses(Object(O.a)(e.selectedAccesses.filter((function(e){return t.num!==e})))):e.setSelectedAccesses([].concat(Object(O.a)(e.selectedAccesses),[t.num]))},children:[Object(le.jsx)(Qe.a,{checked:e.selectedAccesses.includes(t.num),inputProps:{"aria-label":"Checkbox A"}}),t.row]})})),r=Object(s.useState)(null),n=Object(i.a)(r,2),a=n[0],c=n[1];return Object(le.jsxs)("div",{children:[Object(le.jsx)(he.a,{fullWidth:!0,onClick:function(e){c(e.currentTarget)},endIcon:Object(le.jsx)(Oe.a,{}),color:"primary",size:"large",variant:"contained",children:"select accesses"}),Object(le.jsx)(xe.a,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:function(){c(null)},children:t})]})},$r=["selectedAccesses","setSelectedAccesses","isError"],es=Object(E.a)((function(e){return{paper:{padding:5,minHeight:32}}})),ts=function(e){var t=e.selectedAccesses,r=e.setSelectedAccesses,s=e.isError,n=(Object(be.a)(e,$r),es());console.log(Kr(t)),console.log(t);var a=Kr(t).map((function(e){return Object(le.jsx)(Ke.a,{item:!0,children:Object(le.jsx)(_e.a,{label:e.row,color:"primary",clickable:!0,onDelete:function(){return r(Object(O.a)(t.filter((function(t){return t!==e.num}))))}})})}));return Object(le.jsxs)(Ke.a,{container:!0,spacing:1,direction:"row",alignItems:"flex-start",children:[Object(le.jsx)(Ke.a,{item:!0,xs:9,md:10,children:Object(le.jsx)(Je.a,{className:n.paper,children:0===t.length?Object(le.jsx)(B.a,{variant:"subtitle1",color:"textSecondary",align:"left",children:"select accesses for new user *"}):Object(le.jsx)(Ke.a,{container:!0,spacing:1,direction:"row",children:a})})}),Object(le.jsx)(Ke.a,{item:!0,xs:3,md:2,children:Object(le.jsx)(Xr,{setSelectedAccesses:r,selectedAccesses:t})}),s&&Object(le.jsx)(B.a,{variant:"caption",color:s?"error":"textSecondary",align:"right",children:"select accesses for new user"})]})},rs=Object(E.a)((function(e){return{container:{marginTop:10},button:{marginLeft:"auto"}}})),ss=function(e){var t=rs(),r=Object(s.useState)([]),n=Object(i.a)(r,2),a=n[0],c=n[1],o=Object(s.useState)(!1),d=Object(i.a)(o,2),l=d[0],u=d[1],j=Object(s.useState)(!1),p=Object(i.a)(j,2),b=p[0],m=p[1],O=Object(Fr.a)({mode:"onChange"}),x=O.register,f=O.formState.errors,h=O.handleSubmit,v=O.reset;Object(s.useEffect)((function(){0===a.length&&b?u(!0):u(!1)}),[a]);return Object(le.jsxs)("div",{children:[Object(le.jsx)(B.a,{variant:"h6",color:"primary",children:"\u0421reating new user"}),e.currentUser.accesses.includes(5)?Object(le.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:h((function(t){m(!0),0===a.length?u(!0):(e.addUser({name:t.name,surname:t.surname,position:t.position,accesses:a}),v(),c([]),m(!1),u(!1))})),children:Object(le.jsxs)(He.a,{className:t.container,children:[Object(le.jsxs)(Ke.a,{spacing:2,container:!0,children:[Object(le.jsxs)(Ke.a,{item:!0,xs:12,md:6,children:[Object(le.jsx)(Ar.a,Object(jt.a)(Object(jt.a)({variant:"outlined",fullWidth:!0,required:!0,error:!!f.name,helperText:f.name?"enter user name":null},x("name",{required:!0})),{},{name:"name",label:"name"})),Object(le.jsx)("br",{})]}),Object(le.jsxs)(Ke.a,{item:!0,xs:12,md:6,children:[Object(le.jsx)(Ar.a,Object(jt.a)(Object(jt.a)({variant:"outlined",fullWidth:!0,required:!0},x("surname",{required:!0})),{},{error:!!f.surname,helperText:f.surname?"enter user surname":null,name:"surname",label:"surname"})),Object(le.jsx)("br",{})]}),Object(le.jsxs)(Ke.a,{item:!0,xs:12,children:[Object(le.jsx)(Ar.a,Object(jt.a)(Object(jt.a)({variant:"outlined",fullWidth:!0,required:!0},x("position",{required:!0})),{},{error:!!f.position,helperText:f.position?"enter user position":null,name:"position",label:"position"})),Object(le.jsx)("br",{})]}),Object(le.jsx)(Ke.a,{item:!0,xs:12,md:12,children:Object(le.jsx)(ts,{selectedAccesses:a,setSelectedAccesses:c,isError:l,addUser:e.addUser})})]}),Object(le.jsx)(he.a,{className:t.container,color:"primary",size:"large",type:"submit",variant:"contained",children:"create new user"})]})}):Object(le.jsx)(ze.a,{to:"/projects"})]})},ns=Object(o.b)((function(e){return{users:e.users.users,currentUser:e.users.currentUser}}),{addUser:p})(ss);var as=function(){var e=Object(s.useState)({}),t=Object(i.a)(e,2),r=t[0],n=t[1],a=Object(Zr.a)(r);return Object(le.jsx)("div",{className:"App",children:Object(le.jsxs)(_r.a,{theme:a,children:[Object(le.jsx)(qe,{setColor:n}),Object(le.jsx)(ze.d,{children:Object(le.jsxs)(He.a,{children:[Object(le.jsx)(ze.b,{path:"/currentProject",render:function(){return Object(le.jsx)(Gr,{})}}),Object(le.jsx)(ze.b,{path:"/currentTasks",render:function(){return Object(le.jsx)(Mr,{})}}),Object(le.jsx)(ze.b,{path:"/projects",render:function(){return Object(le.jsx)(ut,{})}}),Object(le.jsx)(ze.b,{path:"/addTaskForm",render:function(){return Object(le.jsx)(Sr,{})}}),Object(le.jsx)(ze.b,{path:"/addProjectForm",render:function(){return Object(le.jsx)(qr,{})}}),Object(le.jsx)(ze.b,{path:"/addUserForm",render:function(){return Object(le.jsx)(ns,{})}})]})})]})})},cs=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,310)).then((function(t){var r=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),s(e),n(e),a(e),c(e)}))},is=Object(d.a)({reducer:{users:m,projects:M,settings:R}});c.a.render(Object(le.jsx)(ne.a,{basename:"/Work-Boards",children:Object(le.jsx)(o.a,{store:is,children:Object(le.jsx)(as,{})})}),document.getElementById("root")),cs()}},[[235,1,2]]]);
//# sourceMappingURL=main.2a4058e2.chunk.js.map