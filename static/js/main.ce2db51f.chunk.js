(this.webpackJsonpwork_bords=this.webpackJsonpwork_bords||[]).push([[0],{188:function(e,t,r){},189:function(e,t,r){},235:function(e,t,r){"use strict";r.r(t);var s=r(0),n=r.n(s),a=r(18),c=r.n(a),i=(r(188),r(12)),o=(r(189),r(26)),d=r(63),l=Object(d.b)({name:"users",initialState:{currentUser:{id:6,name:"Saitama",surname:"One-Punch Man",position:"general director",accesses:[1,2,3,4,5],projects:[0,1,2,3]},users:[{id:0,name:"Roman",surname:"Lukichev",position:"frontend developer",accesses:[1],projects:[0,2,3]},{id:1,name:"Anya",surname:"Deryabina",position:"tester",accesses:[2],projects:[0,2,3]},{id:2,name:"Andrey",surname:"Lukichev",position:"team leader",accesses:[1,2,3,4],projects:[0,3]},{id:3,name:"Alex",surname:"Leenders",position:"team leader",accesses:[1,2,3],projects:[1,2]},{id:4,name:"John",surname:"Constantin",position:"frontend developer",accesses:[1],projects:[1]},{id:5,name:"Frodo",surname:"Baggins",position:"tester",accesses:[2],projects:[1]},{id:6,name:"Saitama",surname:"One-Punch Man",position:"general director",accesses:[1,2,3,4,5],projects:[0,1,2,3]}]},reducers:{setCurrentUser:function(e,t){e.currentUser=t.payload},addUser:function(e,t){var r={id:e.users[e.users.length-1].id+1,name:t.payload.name,surname:t.payload.surname,position:t.payload.position,accesses:t.payload.accesses,projects:[]};e.users.push(r)},addProjectInArrayOfUsers:function(e,t){t.payload.users.forEach((function(r){var s;null===(s=e.users.find((function(e){return e.id===r})))||void 0===s||s.projects.push(t.payload.projectId)}))}}}),u=l.actions,j=u.setCurrentUser,p=u.addUser,b=u.addProjectInArrayOfUsers,m=l.reducer,O=r(15),x=Object(d.b)({name:"projects",initialState:{currentProjectId:0,projects:[{id:0,name:"Task management system",developersId:[0,1,2,6],tasks:[{id:0,name:"Create repository",description:"This makes the changes in your file available to people you are working with.",priority:7,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:{id:2,name:"Andrey",surname:"Lukichev",position:"team leader",accesses:[1,2,3],projects:[0,3]}},{id:1,name:"Create React app",description:"ReactJS offers graceful solutions to some of front-end programming\u2019s most persistent issues, allowing you to build dynamic and interactive web apps with ease. It\u2019s fast, scalable, flexible, powerful, and has a robust developer community that\u2019s rapidly growing. There\u2019s never been a better time to learn React.",priority:6,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:{id:2,name:"Andrey",surname:"Lukichev",position:"team leader",accesses:[1,2,3],projects:[0,3]}},{id:2,name:"Initial Project",description:"It\u2019s fast, scalable, flexible, powerful, and has a robust developer community that\u2019s rapidly growing. There\u2019s never been a better time to learn React.",priority:3,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:{id:2,name:"Andrey",surname:"Lukichev",position:"team leader",accesses:[1,2,3],projects:[0,3]}}]},{id:1,name:"Shop online",developersId:[3,4,5,6],tasks:[{id:0,name:"Create repository",description:"This makes the changes in your file available to people you are working with.",priority:7,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:{id:3,name:"Alex",surname:"Leenders",position:"team leader",accesses:[1,2,3],projects:[1,2]}},{id:1,name:"Create React app",description:"ReactJS offers graceful solutions to some of front-end programming\u2019s most persistent issues, allowing you to build dynamic and interactive web apps with ease. It\u2019s fast, scalable, flexible, powerful, and has a robust developer community that\u2019s rapidly growing. There\u2019s never been a better time to learn React.",priority:6,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:{id:3,name:"Alex",surname:"Leenders",position:"team leader",accesses:[1,2,3],projects:[1,2]}}]},{id:2,name:"New project",developersId:[0,1,3,6],tasks:[{id:0,name:"create project",description:"This makes the changes in your file available to people you are working with.",priority:7,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:{id:3,name:"Alex",surname:"Leenders",position:"team leader",accesses:[1,2,3],projects:[1,2]}}]},{id:3,name:"New project 33",developersId:[0,1,2,6],tasks:[{id:0,name:"create project",description:"This makes the changes in your file available to people you are working with.",priority:7,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:{id:2,name:"Andrey",surname:"Lukichev",position:"team leader",accesses:[1,2,3],projects:[0,3]}}]}]},reducers:{takeTaskForDevelopment:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s=e.projects[r].tasks.findIndex((function(e){return e.id===t.payload.taskId}));e.projects[r].tasks[s].status="development",e.projects[r].tasks[s].developer=t.payload.developer},takeTaskForReview:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s=e.projects[r].tasks.findIndex((function(e){return e.id===t.payload.taskId}));e.projects[r].tasks[s].status="testing",e.projects[r].tasks[s].tester=t.payload.tester},giveTaskForReview:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s=e.projects[r].tasks.findIndex((function(e){return e.id===t.payload.taskId}));e.projects[r].tasks[s].forReview=!0},approveTask:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s=e.projects[r].tasks.findIndex((function(e){return e.id===t.payload.taskId}));e.projects[r].tasks[s].status="ready"},sendMessage:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s=e.projects[r].tasks.findIndex((function(e){return e.id===t.payload.taskId})),n=e.projects[r].tasks[s].communication.length,a=0===n?0:e.projects[r].tasks[s].communication[n-1].id+1;e.projects[r].tasks[s].communication.push({id:a,message:t.payload.message,author:t.payload.author,whoRead:[t.payload.author.id]})},takeTaskForRevision:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s=e.projects[r].tasks.findIndex((function(e){return e.id===t.payload.taskId}));e.projects[r].tasks[s].status="development",e.projects[r].tasks[s].forReview=!1},setCurrentProjectId:function(e,t){e.currentProjectId=t.payload.currentProject},addNewTaskToProject:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s={id:0!==e.projects[r].tasks.length?e.projects[r].tasks[e.projects[r].tasks.length-1].id+1:0,name:t.payload.name,description:t.payload.description,priority:t.payload.priority,status:"newTask",communication:[],developer:null,forReview:null,tester:null,creator:t.payload.currentUser};e.projects[r].tasks.push(s)},addNewProject:function(e,t){var r={id:e.projects[e.projects.length-1].id+1,name:t.payload.name,developersId:t.payload.developersId,tasks:[]};e.projects.push(r)},addNewUserToProject:function(e,t){var r=t.payload.users.map((function(e){return e.id})),s=e.projects.filter((function(e){return e.id===t.payload.projectId}))[0].developersId;e.projects.filter((function(e){return e.id===t.payload.projectId}))[0].developersId=[].concat(Object(O.a)(s),Object(O.a)(r))},readAllMessageInTask:function(e,t){var r=e.projects.findIndex((function(t){return t.id===e.currentProjectId})),s=e.projects[r].tasks.findIndex((function(e){return e.id===t.payload.taskId}));e.projects[r].tasks[s].communication.forEach((function(e){e.whoRead=e.whoRead.includes(t.payload.userId)?e.whoRead:[].concat(Object(O.a)(e.whoRead),[t.payload.userId])}))}}}),f=x.actions,h=f.takeTaskForDevelopment,v=f.takeTaskForReview,g=f.giveTaskForReview,k=f.approveTask,y=f.sendMessage,I=f.takeTaskForRevision,U=f.setCurrentProjectId,T=f.addNewTaskToProject,w=f.addNewProject,C=f.addNewUserToProject,M=f.readAllMessageInTask,P=x.reducer,A=Object(d.b)({name:"users",initialState:{currentColor:{name:"start",primary:{main:"#3F51B5"},secondary:{main:"#2979ff"}},colors:[{name:"yellow",primary:{main:"#f9a825"},secondary:{main:"#f9a825"}},{name:" teal",primary:{main:"#009688"},secondary:{main:"#1de9b6"}},{name:"purple",primary:{main:"#6a1b9a"},secondary:{main:"#6a1b9a"}},{name:"lime",primary:{main:"#9e9d24"},secondary:{main:"#9e9d24"}},{name:"blue",primary:{main:"#2196f3"},secondary:{main:"#2979ff"}},{name:"green",primary:{main:"#2e7d32"},secondary:{main:"#2e7d32"}},{name:"start",primary:{main:"#3F51B5"},secondary:{main:"#2979ff"}}],isOpenLeftMenu:!1},reducers:{setCurrentColor:function(e,t){e.currentColor=e.colors.filter((function(e){return e.name===t.payload.name}))[0]},setIsOpenLeftMenu:function(e,t){e.isOpenLeftMenu=t.payload.open}}}),F=A.actions,R=F.setCurrentColor,N=F.setIsOpenLeftMenu,S=A.reducer,L=r(283),B=r(284),D=r(242),E=r(79),W=r(164),q=r.n(W),z=r(280),H=r(305),J=r(304),Y=r(240),V=r(277),G=r(278),Z=r(60),_=r.n(Z),K=r(157),Q=r.n(K),X=r(159),$=r.n(X),ee=r(160),te=r.n(ee),re=r(161),se=r.n(re),ne=r(162),ae=r.n(ne),ce=r(57),ie=r(158),oe=r.n(ie),de=r(163),le=r.n(de),ue=r(279),je=r(1),pe=_()({list:{width:250,color:"unset",textDecoration:"none"},fullList:{width:180,height:25,overflow:"hidden",textOverflow:"ellipsis"}}),be=function(e){var t=pe();return Object(je.jsx)(ce.b,{to:e.url?e.url:"/boards",className:t.list,children:Object(je.jsxs)(Y.a,{button:!0,children:[Object(je.jsx)(V.a,{children:e.icon}),Object(je.jsx)(G.a,{primary:e.text}),e.badgeContent?Object(je.jsx)(ue.a,{color:"error",badgeContent:e.badgeContent,variant:"dot"}):null]},e.text)})};var me=function(e){var t,r=pe();return Object(je.jsxs)(J.a,{variant:"persistent",open:e.isOpenLeftMenu,children:[Object(je.jsxs)(H.a,{display:"flex",p:1,children:[Object(je.jsxs)(H.a,{alignSelf:"center",flexGrow:1,p:1,children:[Object(je.jsx)(E.a,{className:r.fullList,variant:"subtitle1",color:"primary",children:null===e.currentProjectId?"no projects available":null===(t=e.currentProject)||void 0===t?void 0:t.name}),Object(je.jsx)(E.a,{variant:"caption",children:"WorkBoards v0.01"})]}),Object(je.jsx)(H.a,{p:1,alignSelf:"center",justifyContent:"flex-end",children:Object(je.jsx)(D.a,{edge:"start",onClick:function(){return e.setIsOpenLeftMenu({open:!1})},color:"primary","aria-label":"menu",children:Object(je.jsx)(Q.a,{})})})]}),Object(je.jsx)(be,{url:"/projects",icon:Object(je.jsx)(oe.a,{}),text:"Projects",badgeContent:e.messagesForAllProjects}),Object(je.jsx)(be,{url:"/currentProject",icon:Object(je.jsx)($.a,{}),text:"Current project",badgeContent:e.messagesForCurrentProject}),Object(je.jsx)(be,{url:"/currentTasks",icon:Object(je.jsx)(te.a,{}),text:"My tasks",badgeContent:e.messagesForCurrentProject}),e.accesses.includes(3)&&Object(je.jsx)(be,{url:"/addTaskForm",icon:Object(je.jsx)(se.a,{}),text:"Add tasks"}),e.accesses.includes(4)&&Object(je.jsx)(be,{url:"/addProjectForm",icon:Object(je.jsx)(ae.a,{}),text:"Add project"}),e.accesses.includes(5)&&Object(je.jsx)(be,{url:"/addUserForm",icon:Object(je.jsx)(le.a,{}),text:"Add user"})]})},Oe=r(49),xe=r(75),fe=r.n(xe),he=r(175),ve=r(281),ge=r(243),ke=r(128),ye=r.n(ke),Ie=r(306),Ue=["setCurrentUser","setCurrentProjectId","currentUser","users","currentProjectId"],Te=Object(z.a)((function(e){return{button:{color:e.palette.primary.contrastText},menuItem:{backgroundColor:ye.a[100]},list:{maxHeight:500,overflow:"auto"},avatar:{color:e.palette.primary.main,backgroundColor:"white",marginRight:5}}})),we=function(e){var t=e.setCurrentUser,r=e.setCurrentProjectId,n=e.currentUser,a=e.users,c=e.currentProjectId,o=(Object(Oe.a)(e,Ue),Te()),d=a.map((function(e){return Object(je.jsx)(ve.a,{className:n.id===e.id?o.menuItem:"",onClick:function(){t(e),r(0===e.projects.length?{currentProject:null}:{currentProject:e.projects.includes(c)?c:e.projects[0]}),b()},children:"".concat(e.name," ").concat(e.surname," (").concat(e.position,")")},e.id)})),l=Object(s.useState)(null),u=Object(i.a)(l,2),j=u[0],p=u[1],b=function(){p(null)};return Object(je.jsxs)("div",{children:[Object(je.jsxs)(ge.a,{className:o.button,onClick:function(e){p(e.currentTarget)},endIcon:Object(je.jsx)(fe.a,{}),children:[Object(je.jsx)(Ie.a,{className:o.avatar,children:"".concat(n.name.substr(0,1)).concat(n.surname.substr(0,1))}),"".concat(n.name)]}),Object(je.jsx)(he.a,{anchorEl:j,keepMounted:!0,open:Boolean(j),onClose:b,className:o.list,children:d})]})},Ce=r(132),Me=r.n(Ce),Pe=function(e){return Object(z.a)((function(t){return{avatar:{backgroundColor:e}}}))()},Ae=Object(z.a)((function(e){return{box:{maxHeight:200,overflowY:"auto"},icon:{color:e.palette.primary.contrastText}}})),Fe=function(e){var t=e.colors,r=e.setCurrentColor,n=e.currentColor,a=e.setColor,c=Ae(),o=t.map((function(e,t){return Object(je.jsx)(ve.a,{onClick:function(){r({name:e.name}),a({palette:{primary:{main:e.primary.main},secondary:{main:e.secondary.main}}}),p()},children:Object(je.jsx)(Ie.a,{className:Pe(e.primary.main).avatar,children:Object(je.jsx)(Me.a,{})})},t)})),d=Object(s.useState)(null),l=Object(i.a)(d,2),u=l[0],j=l[1],p=function(){j(null)};return Object(je.jsxs)("div",{children:[Object(je.jsx)(ge.a,{onClick:function(e){j(e.currentTarget)},children:Object(je.jsx)(Ie.a,{className:Pe(n.primary.main).avatar,children:Object(je.jsx)(Me.a,{className:c.icon})})}),Object(je.jsx)(he.a,{anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:p,children:Object(je.jsx)(H.a,{className:c.box,children:o})})]})},Re=Object(z.a)((function(e){return{menuButton:{marginRight:e.spacing(1)},title:{flexGrow:1}}})),Ne=function(e){var t=Re();return Object(je.jsxs)(H.a,{width:"100%",children:[Object(je.jsx)(me,{currentProject:e.currentProject,accesses:e.currentUser.accesses,isOpenLeftMenu:e.isOpenLeftMenu,setIsOpenLeftMenu:e.setIsOpenLeftMenu,messagesForCurrentProject:e.messagesForCurrentProject,currentProjectId:e.currentProjectId,messagesForAllProjects:e.messagesForAllProjects}),Object(je.jsx)(L.a,{position:"static",children:Object(je.jsxs)(B.a,{children:[Object(je.jsx)(D.a,{edge:"start",className:t.menuButton,onClick:function(){return e.setIsOpenLeftMenu({open:!0})},color:"inherit","aria-label":"menu",children:Object(je.jsx)(q.a,{})}),Object(je.jsx)(E.a,{align:"left",variant:"h6",className:t.title,children:"WorkBoards"}),Object(je.jsxs)(H.a,{display:"flex",alignItems:"center",children:[Object(je.jsx)(Fe,{colors:e.colors,currentColor:e.currentColor,setCurrentColor:e.setCurrentColor,setColor:e.setColor}),Object(je.jsx)(we,{users:e.users,setCurrentUser:e.setCurrentUser,currentUser:e.currentUser,currentProjectId:e.currentProjectId,setCurrentProjectId:e.setCurrentProjectId})]})]})})]})};function Se(e,t){return null!==t?e.filter((function(e){return e.id===t}))[0]:null}function Le(e,t,r){return null!==r?e.filter((function(e){return e.id===r}))[0].tasks.filter((function(e){var r,s;return(null===(r=e.developer)||void 0===r?void 0:r.id)===t||(null===(s=e.tester)||void 0===s?void 0:s.id)===t})):[]}function Be(e,t,r){var s=t.accesses.includes(1)&&null!==r?e.filter((function(e){return e.id===r}))[0].tasks.filter((function(e){return"newTask"===e.status})):[],n=t.accesses.includes(2)&&null!==r?e.filter((function(e){return e.id===r}))[0].tasks.filter((function(e){return null===e.tester&&!0===e.forReview})):[];return[].concat(Object(O.a)(s),Object(O.a)(n))}function De(e,t){return t?e.filter((function(e){return e.id===t}))[0].name:null}function Ee(e,t){var r=[];return e.tasks.forEach((function(e){var s,n,a;((null===(s=e.tester)||void 0===s?void 0:s.id)===t||(null===(n=e.developer)||void 0===n?void 0:n.id)===t||(null===(a=e.creator)||void 0===a?void 0:a.id)===t)&&e.communication.forEach((function(e){!e.whoRead.includes(t)&&r.push(1)}))})),r.length}function We(e,t){var r=[];return e.forEach((function(e){e.developersId.includes(t)&&e.tasks.forEach((function(e){var s,n,a;((null===(s=e.tester)||void 0===s?void 0:s.id)===t||(null===(n=e.developer)||void 0===n?void 0:n.id)===t||(null===(a=e.creator)||void 0===a?void 0:a.id)===t)&&e.communication.forEach((function(e){!e.whoRead.includes(t)&&r.push(1)}))}))})),r.length}function qe(e,t){return e.communication.filter((function(e){return!e.whoRead.includes(t)})).length}function ze(e,t){var r=[];return e.tasks.forEach((function(e){var s;(null===(s=e.creator)||void 0===s?void 0:s.id)===t&&r.push(e)})),r}var He=Object(o.b)((function(e){return{users:e.users.users,currentUser:e.users.currentUser,currentProjectId:e.projects.currentProjectId,colors:e.settings.colors,currentColor:e.settings.currentColor,currentProject:Se(e.projects.projects,e.projects.currentProjectId),messagesForAllProjects:0!==e.users.currentUser.projects.length?We(e.projects.projects,e.users.currentUser.id):0,messagesForCurrentProject:0!==e.users.currentUser.projects.length?Ee(e.projects.projects.filter((function(t){return t.id===e.projects.currentProjectId}))[0],e.users.currentUser.id):0,isOpenLeftMenu:e.settings.isOpenLeftMenu}}),{setCurrentUser:j,setCurrentProjectId:U,setCurrentColor:R,setIsOpenLeftMenu:N})(Ne),Je=r(24),Ye=r(290),Ve=r(135),Ge=r(289),Ze=r(286),_e=r(287),Ke=r(288),Qe=r(307),Xe=r(285),$e=r(302),et=function(e){var t=e.users.length>0?e.users.map((function(t){return Object(je.jsxs)(ve.a,{onClick:function(){e.selectedUsers.includes(t)?e.setSelectedUsers(Object(O.a)(e.selectedUsers.filter((function(e){return t.id!==e.id})))):e.setSelectedUsers([].concat(Object(O.a)(e.selectedUsers),[t]))},children:[Object(je.jsx)($e.a,{checked:e.selectedUsers.includes(t),inputProps:{"aria-label":"Checkbox A"}}),"".concat(t.name," ").concat(t.surname," (").concat(t.position,")")]})})):Object(je.jsx)(H.a,{margin:1,children:Object(je.jsxs)(E.a,{children:["all users are",Object(je.jsx)("br",{})," already involved in this project"]})}),r=Object(s.useState)(null),n=Object(i.a)(r,2),a=n[0],c=n[1];return Object(je.jsxs)("div",{children:[Object(je.jsx)(ge.a,{fullWidth:!0,onClick:function(e){c(e.currentTarget)},endIcon:Object(je.jsx)(fe.a,{}),color:"primary",size:"large",variant:"contained",children:"select team"}),Object(je.jsx)(he.a,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:function(){c(null)},children:t})]})},tt=["projectId","availableUsers","selectedUsers","setSelectedUsers"],rt=Object(z.a)((function(e){return{paper:{padding:5,minHeight:58},button:{marginTop:5,marginBottom:5}}})),st=function(e){e.projectId;var t=e.availableUsers,r=e.selectedUsers,s=e.setSelectedUsers,n=Object(Oe.a)(e,tt),a=rt(),c=r.map((function(e){return Object(je.jsx)(Xe.a,{item:!0,children:Object(je.jsx)(Qe.a,{avatar:Object(je.jsxs)(Ie.a,{children:[e.name.split("")[0],e.surname.split("")[0]]}),label:"".concat(e.name," ").concat(e.surname," (").concat(e.position,")"),color:"primary",clickable:!0,onDelete:function(){return s(Object(O.a)(r.filter((function(t){return e.id!==t.id}))))}})})}));return Object(je.jsxs)(Xe.a,{container:!0,spacing:1,direction:"row",alignItems:"flex-start",children:[Object(je.jsx)(Xe.a,{item:!0,sm:9,xs:12,children:Object(je.jsx)(Ve.a,{className:a.paper,children:0===r.length?Object(je.jsx)(E.a,{variant:"subtitle1",color:"textSecondary",align:"left",children:"select new workers for the project *"}):Object(je.jsx)(Xe.a,{container:!0,spacing:1,direction:"row",children:c})})}),Object(je.jsx)(Xe.a,{item:!0,sm:3,xs:12,children:Object(je.jsx)(et,{users:t,setSelectedUsers:s,selectedUsers:r})}),Object(je.jsx)(Xe.a,{container:!0,justifyContent:"center",children:Object(je.jsx)(ge.a,{className:a.button,onClick:function(){return n.onSubmit()},size:"large",variant:"contained",color:"primary",children:"Add to project"})})]})},nt=Object(z.a)((function(e){return{dialogContent:{overflow:"hidden",overflowY:"hidden"},placeForMessages:{minHeight:165,maxHeight:400,marginTop:10,marginBottom:10,overflowY:"auto"},inputMessage:{marginBottom:5},button:{width:180}}})),at=function(e){var t=nt(),r=Object(s.useState)([]),n=Object(i.a)(r,2),a=n[0],c=n[1];return Object(je.jsxs)(Ze.a,{fullWidth:!0,open:e.isOpenMenuAddingWorkers,onClose:function(){return e.setIsOpenMenuAddingWorkers(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(je.jsx)(_e.a,{id:"alert-dialog-title",children:Object(je.jsx)(E.a,{variant:"h6",color:"primary",align:"center",children:'Adding workers to the project: "'.concat(e.project.name,'"')})}),Object(je.jsx)(Ke.a,{className:t.dialogContent,children:Object(je.jsx)(st,{projectId:e.project.id,availableUsers:e.availableUsers,selectedUsers:a,onSubmit:function(){e.addNewUserToProject({projectId:e.project.id,users:a}),e.addProjectInArrayOfUsers({users:a.map((function(e){return e.id})),projectId:e.project.id}),e.setIsOpenMenuAddingWorkers(!1),c([])},setSelectedUsers:c})})]})},ct=r(166),it=r.n(ct),ot=r(165),dt=r.n(ot),lt=Object(z.a)((function(e){return{projects:{margin:10,padding:25},button:{marginLeft:5},list:{color:"inherit",textDecoration:"none"},tasks:{margin:5,marginLeft:"auto"}}})),ut=function(e){var t,r,n=lt(),a=e.tasksOfUser.filter((function(e){return"ready"!==e.status})).length,c=Object(s.useState)(!1),o=Object(i.a)(c,2),d=o[0],l=o[1],u=Ee(e.project,e.currentUser.id);return Object(je.jsxs)(Ve.a,{elevation:e.project.id===e.currentProjectId?10:2,className:n.projects,onClick:function(){return e.setCurrentProjectId({currentProject:e.project.id})},children:[Object(je.jsxs)(H.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(je.jsxs)(E.a,{variant:"h6",color:e.project.id===e.currentProjectId?"secondary":"primary",children:[e.project.name,0!==u&&Object(je.jsx)(ue.a,{color:"error",badgeContent:u,children:Object(je.jsx)(dt.a,{className:n.button})}),e.currentUser.accesses.includes(4)&&Object(je.jsx)(ge.a,{className:n.button,onClick:function(){return l(!0)},color:"primary",children:Object(je.jsx)(it.a,{})})]}),Object(je.jsxs)(H.a,{children:[Object(je.jsx)(ue.a,{color:"primary",badgeContent:a,showZero:!0,children:Object(je.jsx)(E.a,{children:"Current tasks"})}),Object(je.jsx)(Ge.a,{className:n.tasks}),Object(je.jsx)(ue.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},color:"primary",badgeContent:e.userAccessibleTasks.length,className:n.tasks,showZero:!0,children:Object(je.jsx)(E.a,{children:"Available tasks"})})]})]}),Object(je.jsx)(at,{setIsOpenMenuAddingWorkers:l,addProjectInArrayOfUsers:e.addProjectInArrayOfUsers,isOpenMenuAddingWorkers:d,addNewUserToProject:e.addNewUserToProject,project:e.project,availableUsers:(t=e.project,r=e.users,r.filter((function(e){return!t.developersId.includes(e.id)})))})]})},jt=function(e){var t=e.projectsForUser.map((function(t){return Object(je.jsx)(ut,{currentProjectId:e.currentProjectId,project:t,currentUser:e.currentUser,users:e.users,addProjectInArrayOfUsers:e.addProjectInArrayOfUsers,addNewUserToProject:e.addNewUserToProject,tasksOfUser:Le([t],e.currentUser.id,t.id),userAccessibleTasks:Be([t],e.currentUser,t.id),setCurrentProjectId:e.setCurrentProjectId},t.id)}));return Object(je.jsxs)(Ye.a,{children:[Object(je.jsx)(E.a,{variant:"h6",color:"primary",children:0===e.currentUser.projects.length?"you are not involved in any of the projects":"Select the project you want to work on"}),t]})},pt=Object(o.b)((function(e){return{currentUser:e.users.currentUser,currentProjectId:e.projects.currentProjectId,projectsForUser:(t=e.projects.projects,r=e.users.currentUser.id,0!==t.length?t.filter((function(e){return e.developersId.includes(r)})):[]),users:e.users.users};var t,r}),{setCurrentProjectId:U,addNewUserToProject:C,addProjectInArrayOfUsers:b})(jt),bt=r(10),mt=r(301),Ot=r(299),xt=r(296),ft=r(293),ht=r(167),vt=r.n(ht),gt=function(e){return Object(je.jsx)(H.a,{display:"flex",justifyContent:"space-between",ml:1,children:Object(je.jsx)(ue.a,{badgeContent:e.priority,color:e.priority>6?"error":"primary",children:Object(je.jsx)(vt.a,{color:"primary"})})})},kt=Object(z.a)((function(e){return{description:{maxHeight:100,overflow:"hidden",textOverflow:"ellipsis"}}})),yt=function(e){var t=kt();return Object(je.jsxs)(H.a,{children:[Object(je.jsx)(E.a,{variant:"body2",component:"p",align:"left",className:t.description,children:e.description}),Object(je.jsx)(H.a,{display:"box",children:Object(je.jsx)(ge.a,{onClick:function(){return e.setIsOpenMoreInformation(!0)},size:"small",children:"... learn more"})})]})},It=r(303),Ut=r(292),Tt=r(282),wt=r(291),Ct=r(114),Mt=r.n(Ct),Pt=function(e){var t,r,s,n,a,c;return Object(je.jsxs)(It.a,{children:[Object(je.jsx)(wt.a,{expandIcon:Object(je.jsx)(Mt.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(je.jsx)(E.a,{children:"Current workers"})}),Object(je.jsx)(Ut.a,{children:Object(je.jsxs)(Tt.a,{children:[Object(je.jsx)(G.a,{primary:"".concat(null===(t=e.creator)||void 0===t?void 0:t.name," ").concat(null===(r=e.creator)||void 0===r?void 0:r.surname),secondary:"creator"}),e.developer&&Object(je.jsx)(G.a,{primary:"".concat(null===(s=e.developer)||void 0===s?void 0:s.name," ").concat(null===(n=e.developer)||void 0===n?void 0:n.surname),secondary:"developer"}),e.tester&&Object(je.jsx)(G.a,{primary:"".concat(null===(a=e.tester)||void 0===a?void 0:a.name," ").concat(null===(c=e.tester)||void 0===c?void 0:c.surname),secondary:"tester"})]})})]})},At=function(e){return Object(je.jsxs)(It.a,{children:[Object(je.jsx)(wt.a,{expandIcon:Object(je.jsx)(Mt.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(je.jsx)(E.a,{children:"Description"})}),Object(je.jsx)(Ut.a,{children:e.description})]})},Ft=Object(z.a)((function(e){return{title:{display:"flex",justifyContent:"space-between",alignItems:"center"},subTitle:{display:"flex",alignItems:"center",marginRight:50}}})),Rt=function(e){var t=Ft();return Object(je.jsxs)(H.a,{className:t.title,children:[Object(je.jsxs)(H.a,{className:t.subTitle,children:[Object(je.jsx)(E.a,{color:"primary",variant:"h6",children:e.name}),Object(je.jsx)(gt,{priority:e.priority})]}),Object(je.jsx)(Qe.a,{label:e.status,color:"primary"})]})},Nt=Object(z.a)((function(e){return{title:{display:"flex",justifyContent:"space-between",alignItems:"center"},subTitle:{display:"flex",alignItems:"center"}}})),St=function(e){Nt();return Object(je.jsxs)(Ze.a,{open:e.isOpenMoreInformation,onClose:function(){return e.setIsOpenMoreInformation(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(je.jsx)(_e.a,{id:"alert-dialog-title",children:Object(je.jsx)(Rt,{name:e.name,status:e.status,priority:e.priority})}),Object(je.jsxs)(Ke.a,{children:[Object(je.jsx)(Pt,{creator:e.creator,developer:e.developer,tester:e.tester}),Object(je.jsx)(At,{description:e.description})]})]})},Lt=function(e){var t=n.a.useState(!1),r=Object(i.a)(t,2),s=r[0],a=r[1];return Object(je.jsxs)(ft.a,{children:[Object(je.jsxs)(H.a,{display:"flex",justifyContent:"space-between",alignContent:"center",children:[Object(je.jsx)(E.a,{variant:"h6",component:"h2",display:"inline",children:e.name}),Object(je.jsx)(gt,{priority:e.priority})]}),Object(je.jsx)(Ge.a,{variant:"middle"}),Object(je.jsx)(yt,{description:e.description,setIsOpenMoreInformation:a}),Object(je.jsx)(St,Object(bt.a)({isOpenMoreInformation:s,setIsOpenMoreInformation:a},e))]})},Bt=r(133),Dt=r.n(Bt),Et=r(294),Wt=r(297),qt=r(76),zt=r.n(qt),Ht=r(308),Jt=r(295),Yt=r(168),Vt=r.n(Yt),Gt=_()((function(){return Object(Et.a)({message:{wordBreak:"break-word",maxWidth:"20vw",minWidth:250}})})),Zt=function(e){var t=Gt();return Object(je.jsxs)("div",{className:t.message,children:[Object(je.jsx)(E.a,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"".concat(e.author.name," ").concat(e.author.surname," (").concat(e.author.position,")")}),Object(je.jsx)(E.a,{color:"textPrimary",variant:"body2",gutterBottom:!0,children:e.message})]})},_t=r(116),Kt=r(115),Qt=_()((function(){return Object(Et.a)({allMessage:{paddingLeft:10,paddingRight:10,paddingBottom:10},messageRight:{backgroundColor:_t.a[100],padding:5,marginTop:10},messageLeft:{backgroundColor:Kt.a[100],padding:5,marginTop:10}})})),Xt=function(e){var t=Qt(),r=e.messages.map((function(r,s){return Object(je.jsx)(Xe.a,{container:!0,justifyContent:r.author.id===e.currentUserId?"flex-end":"flex-start",children:Object(je.jsx)(Xe.a,{item:!0,xs:12,sm:8,children:Object(je.jsx)(Ve.a,{className:r.author.id===e.currentUserId?t.messageRight:t.messageLeft,children:Object(je.jsx)(Zt,Object(bt.a)({},r))})})},r.id)}));return Object(je.jsx)(H.a,{className:t.allMessage,display:"flex",flexDirection:"column",children:r})},$t=Object(z.a)((function(e){return{dialogContent:{overflow:"hidden",overflowY:"auto"},placeForMessages:{minHeight:165,maxHeight:400,marginTop:10,marginBottom:10,overflowY:"auto"},inputMessage:{marginBottom:5}}})),er=function(e){var t=$t(),r=Object(s.useState)(""),n=Object(i.a)(r,2),a=n[0],c=n[1];return Object(je.jsxs)(Ze.a,{fullWidth:!0,open:e.isOpenMessages,onClose:function(){return e.setIsOpenMessages(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(je.jsx)(_e.a,{id:"alert-dialog-title",children:Object(je.jsx)(Rt,{name:e.name,priority:e.priority,status:e.status})}),Object(je.jsxs)(Ke.a,{className:t.dialogContent,children:[Object(je.jsx)(Pt,{creator:e.creator,developer:e.developer,tester:e.tester}),Object(je.jsx)(Ve.a,{elevation:3,className:t.placeForMessages,children:Object(je.jsx)(Xt,{messages:e.communication,currentUserId:e.currentUser.id})}),Object(je.jsx)(Ht.a,{multiline:!0,maxRows:5,placeholder:"enter message...",fullWidth:!0,className:t.inputMessage,onChange:function(e){return c(e.target.value)},value:a,endAdornment:Object(je.jsx)(Jt.a,{position:"end",defaultValue:a,children:Object(je.jsx)(D.a,{onClick:function(){e.sendMessage({taskId:e.id,message:a,author:e.currentUser}),c("")},children:Object(je.jsx)(Vt.a,{color:"primary"})})})})]})]})},tr=_()((function(){return Object(Et.a)({root:{width:"100%",marginTop:"auto"}})})),rr=function(e){var t,r,s,a,c,o,d=tr(),l=n.a.useState(!1),u=Object(i.a)(l,2),j=u[0],p=u[1];return Object(je.jsxs)(xt.a,{children:[Object(je.jsx)(Lt,Object(bt.a)({},e.task)),Object(je.jsxs)(H.a,{display:"flex",justifyContent:"space-between",alignContent:"center",m:1,children:[(e.currentUser.id===(null===(t=e.task.developer)||void 0===t?void 0:t.id)||e.currentUser.id===(null===(r=e.task.tester)||void 0===r?void 0:r.id)||e.currentUser.id===(null===(s=e.task.creator)||void 0===s?void 0:s.id))&&Object(je.jsx)(ge.a,{onClick:function(){p(!0),e.readAllMessageInTask({taskId:e.task.id,userId:e.currentUser.id})},children:Object(je.jsx)(ue.a,{badgeContent:e.unreadMessagesLength,color:"error",children:Object(je.jsx)(zt.a,{color:"primary"})})}),e.currentUser.id===(null===(a=e.task.developer)||void 0===a?void 0:a.id)&&!e.task.forReview&&Object(je.jsx)(ge.a,{color:"primary",onClick:function(){return e.giveTaskForReview({taskId:e.task.id})},endIcon:Object(je.jsx)(Dt.a,{}),size:"medium",children:"ready for review"}),e.currentUser.id!==(null===(c=e.task.developer)||void 0===c?void 0:c.id)&&e.task.forReview&&e.currentUser.accesses.includes(2)&&Object(je.jsx)(ge.a,{color:"primary",onClick:function(){return e.takeTaskForReview({tester:e.currentUser,taskId:e.task.id})},endIcon:Object(je.jsx)(Dt.a,{}),size:"medium",children:"submit for verification"}),e.currentUser.id!==(null===(o=e.task.developer)||void 0===o?void 0:o.id)&&!e.task.forReview&&Object(je.jsx)("div",{className:d.root,children:Object(je.jsx)(Wt.a,{})}),Object(je.jsx)(er,Object(bt.a)({sendMessage:e.sendMessage,currentUser:e.currentUser,isOpenMessages:j,setIsOpenMessages:p},e.task))]})]})},sr=r(298),nr=r(169),ar=r.n(nr),cr=r(170),ir=r.n(cr),or=function(e){var t,r,s,a,c,o=n.a.useState(!1),d=Object(i.a)(o,2),l=d[0],u=d[1];return Object(je.jsxs)(xt.a,{children:[Object(je.jsx)(Lt,Object(bt.a)({},e.task)),Object(je.jsx)(H.a,{display:"flex",justifyContent:"space-between",m:1,children:Object(je.jsxs)(sr.a,{variant:"text",color:"primary","aria-label":"text primary button group",children:[(e.currentUser.id===(null===(t=e.task.developer)||void 0===t?void 0:t.id)||e.currentUser.id===(null===(r=e.task.tester)||void 0===r?void 0:r.id)||e.currentUser.id===(null===(s=e.task.creator)||void 0===s?void 0:s.id))&&Object(je.jsx)(ge.a,{onClick:function(){u(!0),e.readAllMessageInTask({taskId:e.task.id,userId:e.currentUser.id})},children:Object(je.jsx)(ue.a,{badgeContent:e.unreadMessagesLength,color:"error",children:Object(je.jsx)(zt.a,{color:"primary"})})}),(null===(a=e.task.tester)||void 0===a?void 0:a.id)===e.currentUser.id&&Object(je.jsx)(ge.a,{color:"secondary",onClick:function(){return e.takeTaskForRevision({taskId:e.task.id})},endIcon:Object(je.jsx)(ar.a,{}),size:"medium",children:"revision"}),(null===(c=e.task.tester)||void 0===c?void 0:c.id)===e.currentUser.id&&Object(je.jsx)(ge.a,{color:"primary",onClick:function(){return e.approveTask({taskId:e.task.id})},endIcon:Object(je.jsx)(ir.a,{}),size:"medium",children:"approve"}),Object(je.jsx)(er,Object(bt.a)({sendMessage:e.sendMessage,currentUser:e.currentUser,isOpenMessages:l,setIsOpenMessages:u},e.task))]})})]})},dr=r(171),lr=r.n(dr),ur=function(e){return Object(je.jsxs)(xt.a,{children:[Object(je.jsx)(Lt,Object(bt.a)({},e.task)),Object(je.jsx)(H.a,{display:"flex",justifyContent:"flex-end",m:1,children:e.currentUser.accesses.includes(1)&&Object(je.jsx)(ge.a,{color:"primary",onClick:function(){return e.takeTaskForDevelopment({developer:e.currentUser,taskId:e.task.id})},endIcon:Object(je.jsx)(lr.a,{}),size:"medium",children:"take a task"})})]})},jr=Object(z.a)((function(e){return{container:{margin:10}}})),pr=function(e){var t=jr(),r=e.tasksOfUser.map((function(t){return"development"===t.status?Object(je.jsx)(Xe.a,{item:!0,xs:12,md:6,children:Object(je.jsx)(rr,{task:t,currentUser:e.currentUser,takeTaskForReview:e.takeTaskForReview,giveTaskForReview:e.giveTaskForReview,sendMessage:e.sendMessage,unreadMessagesLength:qe(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask})},t.id):"testing"===t.status?Object(je.jsx)(Xe.a,{item:!0,xs:12,md:6,children:Object(je.jsx)(or,{task:t,currentUser:e.currentUser,approveTask:e.approveTask,sendMessage:e.sendMessage,takeTaskForRevision:e.takeTaskForRevision,unreadMessagesLength:qe(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask})},t.id):"newTask"===t.status?Object(je.jsx)(Xe.a,{item:!0,xs:12,md:6,children:Object(je.jsx)(ur,{task:t,currentUser:e.currentUser,takeTaskForDevelopment:e.takeTaskForDevelopment})},t.id):null}));return Object(je.jsx)("div",{hidden:e.value!==e.index,className:t.container,children:e.value===e.index&&Object(je.jsx)(Xe.a,{container:!0,spacing:2,children:r})})},br=r(172),mr=r.n(br),Or=["currentUser"],xr=Object(z.a)((function(e){return{container:{margin:10}}})),fr=function(e){var t=e.currentUser,r=Object(Oe.a)(e,Or),s=xr(),n=r.userAccessibleTasks.map((function(e){return t.accesses.includes(1)&&t.accesses.includes(2)&&e.forReview?Object(je.jsx)(Xe.a,{item:!0,xs:12,md:6,children:Object(je.jsx)(rr,{currentUser:t,task:e,takeTaskForReview:r.takeTaskForReview,giveTaskForReview:r.giveTaskForReview,sendMessage:r.sendMessage,unreadMessagesLength:qe(e,t.id),readAllMessageInTask:r.readAllMessageInTask})},e.id):t.accesses.includes(1)&&t.accesses.includes(2)&&"newTask"===e.status||t.accesses.includes(1)?Object(je.jsx)(Xe.a,{item:!0,xs:12,md:6,children:Object(je.jsx)(ur,{currentUser:t,task:e,takeTaskForDevelopment:r.takeTaskForDevelopment})},e.id):t.accesses.includes(2)?Object(je.jsx)(Xe.a,{item:!0,xs:12,md:6,children:Object(je.jsx)(rr,{currentUser:t,task:e,takeTaskForReview:r.takeTaskForReview,giveTaskForReview:r.giveTaskForReview,sendMessage:r.sendMessage,unreadMessagesLength:qe(e,t.id),readAllMessageInTask:r.readAllMessageInTask})},e.id):void 0}));return Object(je.jsx)("div",{hidden:r.value!==r.index,className:s.container,children:r.value===r.index&&Object(je.jsx)(Xe.a,{container:!0,spacing:2,children:n})})},hr=r(173),vr=r.n(hr),gr=r(129),kr=r.n(gr),yr=r(136),Ir=Object(yr.a)((function(e){return{icon:{color:kr.a[500]}}})),Ur=function(e){var t,r,s,a=Ir(),c=n.a.useState(!1),o=Object(i.a)(c,2),d=o[0],l=o[1];return Object(je.jsxs)(xt.a,{children:[Object(je.jsx)(Lt,Object(bt.a)({},e.task)),Object(je.jsxs)(H.a,{display:"flex",justifyContent:"space-between",m:1,children:[(e.currentUser.id===(null===(t=e.task.developer)||void 0===t?void 0:t.id)||e.currentUser.id===(null===(r=e.task.tester)||void 0===r?void 0:r.id)||e.currentUser.id===(null===(s=e.task.creator)||void 0===s?void 0:s.id))&&Object(je.jsx)(ue.a,{badgeContent:e.unreadMessagesLength,color:"error",children:Object(je.jsx)(ge.a,{onClick:function(){l(!0),e.readAllMessageInTask({taskId:e.task.id,userId:e.currentUser.id})},children:Object(je.jsx)(zt.a,{color:"primary"})})}),Object(je.jsx)(vr.a,{fontSize:"large",className:a.icon}),Object(je.jsx)(er,Object(bt.a)({sendMessage:e.sendMessage,currentUser:e.currentUser,isOpenMessages:d,setIsOpenMessages:l},e.task))]})]})},Tr=Object(z.a)((function(e){return{container:{margin:10}}})),wr=function(e){var t=Tr(),r=e.tasksOfUser.map((function(t){if("ready"===t.status)return Object(je.jsx)(Xe.a,{item:!0,xs:12,md:6,children:Object(je.jsx)(Ur,{task:t,currentUser:e.currentUser,sendMessage:e.sendMessage,unreadMessagesLength:qe(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask})},t.id)}));return Object(je.jsx)("div",{hidden:e.value!==e.index,className:t.container,children:e.value===e.index&&Object(je.jsx)(Xe.a,{container:!0,spacing:2,children:r})})},Cr=Object(z.a)((function(e){return{container:{margin:10}}})),Mr=function(e){var t=Cr(),r=e.tasksCreatedByTheUser.map((function(t){return"development"===t.status?Object(je.jsx)(Xe.a,{item:!0,xs:12,md:6,children:Object(je.jsx)(rr,{task:t,currentUser:e.currentUser,takeTaskForReview:e.takeTaskForReview,giveTaskForReview:e.giveTaskForReview,sendMessage:e.sendMessage,unreadMessagesLength:qe(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask})},t.id):"testing"===t.status?Object(je.jsx)(Xe.a,{item:!0,xs:12,md:6,children:Object(je.jsx)(or,{task:t,currentUser:e.currentUser,approveTask:e.approveTask,sendMessage:e.sendMessage,takeTaskForRevision:e.takeTaskForRevision,unreadMessagesLength:qe(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask})},t.id):"newTask"===t.status?Object(je.jsx)(Xe.a,{item:!0,xs:12,md:6,children:Object(je.jsx)(ur,{task:t,currentUser:e.currentUser,takeTaskForDevelopment:e.takeTaskForDevelopment})},t.id):"ready"===t.status?Object(je.jsx)(Xe.a,{item:!0,xs:12,md:6,children:Object(je.jsx)(Ur,{task:t,currentUser:e.currentUser,sendMessage:e.sendMessage,unreadMessagesLength:qe(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask})},t.id):null}));return Object(je.jsx)("div",{hidden:e.value!==e.index,className:t.container,children:e.value===e.index&&Object(je.jsx)(Xe.a,{container:!0,spacing:2,children:r})})},Pr=Object(z.a)((function(e){return{container:{marginTop:10}}})),Ar=function(e){var t=n.a.useState(0),r=Object(i.a)(t,2),s=r[0],a=r[1],c=Pr();return Object(je.jsx)(Ye.a,{className:c.container,children:0===e.currentUser.projects.length?Object(je.jsx)(E.a,{variant:"h6",color:"primary",children:"to display available tasks select the current project in the projects section"}):Object(je.jsxs)("div",{children:[Object(je.jsx)(L.a,{position:"static",color:"default",children:Object(je.jsxs)(mt.a,{value:s,onChange:function(e,t){a(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example",children:[Object(je.jsx)(Ot.a,{label:"New available tasks (".concat(e.userAccessibleTasks.length,")")}),Object(je.jsx)(Ot.a,{icon:Object(je.jsx)(ue.a,{color:"error",variant:"dot",badgeContent:Ee({tasks:e.tasksOfUser.filter((function(e){return"ready"!==e.status}))},e.currentUser.id),children:"Current tasks (".concat(e.tasksOfUser.filter((function(e){return"ready"!==e.status})).length,")")})}),Object(je.jsx)(Ot.a,{icon:Object(je.jsx)(ue.a,{color:"error",variant:"dot",badgeContent:Ee({tasks:e.tasksOfUser.filter((function(e){return"ready"===e.status}))},e.currentUser.id),children:"Completed tasks (".concat(e.tasksOfUser.filter((function(e){return"ready"===e.status})).length,")")})}),e.currentUser.accesses.includes(3)&&Object(je.jsx)(Ot.a,{icon:Object(je.jsx)(ue.a,{color:"error",variant:"dot",badgeContent:Ee({tasks:e.tasksCreatedByTheUser},e.currentUser.id),children:"\u0421reated tasks (".concat(e.tasksCreatedByTheUser.length,")")})})]})}),Object(je.jsxs)(mr.a,{index:s,onChangeIndex:function(e){a(e)},children:[Object(je.jsx)(fr,Object(bt.a)(Object(bt.a)({},e),{},{value:s,index:0})),Object(je.jsx)(pr,Object(bt.a)(Object(bt.a)({},e),{},{value:s,index:1})),Object(je.jsx)(wr,Object(bt.a)(Object(bt.a)({},e),{},{value:s,index:2})),e.currentUser.accesses.includes(3)&&Object(je.jsx)(Mr,Object(bt.a)(Object(bt.a)({value:s},e),{},{index:3}))]})]})})},Fr=Object(o.b)((function(e){return{currentUser:e.users.currentUser,tasksOfUser:Le(e.projects.projects,e.users.currentUser.id,e.projects.currentProjectId),userAccessibleTasks:Be(e.projects.projects,e.users.currentUser,e.projects.currentProjectId),tasksCreatedByTheUser:e.projects.projects.filter((function(t){return t.id===e.projects.currentProjectId})).length>0?ze(e.projects.projects.filter((function(t){return t.id===e.projects.currentProjectId}))[0],e.users.currentUser.id):[]}}),{takeTaskForDevelopment:h,takeTaskForReview:v,giveTaskForReview:g,readAllMessageInTask:M,approveTask:k,sendMessage:y,takeTaskForRevision:I})(Ar),Rr=r(300),Nr=r(77),Sr=Object(z.a)((function(e){return{container:{marginTop:10},button:{marginLeft:"auto"}}})),Lr=function(e){var t=Sr(),r=Object(Nr.a)({mode:"onChange"}),s=r.register,n=r.formState.errors,a=r.handleSubmit,c=r.reset;return Object(je.jsxs)("div",{children:[Object(je.jsx)(E.a,{variant:"h6",color:"primary",children:'\u0421reating a task for the project: "'.concat(e.currentProjectName,'"')}),e.currentUser.accesses.includes(3)&&null!==e.currentProjectId?Object(je.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:a((function(t){e.addNewTaskToProject({currentUser:e.currentUser,name:t.name,description:t.description,priority:t.priority}),c()})),children:Object(je.jsxs)(Ye.a,{className:t.container,children:[Object(je.jsxs)(Xe.a,{spacing:2,container:!0,children:[Object(je.jsxs)(Xe.a,{item:!0,xs:8,md:10,children:[Object(je.jsx)(Rr.a,Object(bt.a)(Object(bt.a)({variant:"outlined",fullWidth:!0,required:!0,error:!!n.name,helperText:n.name?"enter task name":null},s("name",{required:!0})),{},{name:"name",label:"name"})),Object(je.jsx)("br",{})]}),Object(je.jsxs)(Xe.a,{item:!0,xs:4,md:2,children:[Object(je.jsx)(Rr.a,Object(bt.a)(Object(bt.a)({variant:"outlined",fullWidth:!0,required:!0},s("priority",{required:!0,max:10})),{},{error:!!n.priority,type:"number",helperText:n.priority?"should be a value between 1 and 10":null,name:"priority",label:"priority"})),Object(je.jsx)("br",{})]}),Object(je.jsxs)(Xe.a,{item:!0,xs:12,children:[Object(je.jsx)(Rr.a,Object(bt.a)(Object(bt.a)({variant:"outlined",fullWidth:!0,required:!0},s("description",{required:!0})),{},{error:!!n.description,helperText:n.description?"enter task description":null,name:"description",label:"description"})),Object(je.jsx)("br",{})]})]}),Object(je.jsx)(ge.a,{className:t.container,color:"primary",size:"large",type:"submit",variant:"contained",children:"create a new task"})]})}):Object(je.jsx)(Je.a,{to:"/projects"})]})},Br=Object(o.b)((function(e){return{users:e.users.users,currentUser:e.users.currentUser,currentProjectId:e.projects.currentProjectId,currentProjectName:De(e.projects.projects,e.projects.currentProjectId)}}),{addNewTaskToProject:T})(Lr),Dr=["selectedUsers","setSelectedUsers","isError"],Er=Object(z.a)((function(e){return{paper:{padding:5,minHeight:32}}})),Wr=function(e){var t=e.selectedUsers,r=e.setSelectedUsers,s=e.isError,n=Object(Oe.a)(e,Dr),a=Er(),c=t.map((function(e){return Object(je.jsx)(Xe.a,{item:!0,children:Object(je.jsx)(Qe.a,{avatar:Object(je.jsxs)(Ie.a,{children:[e.name.split("")[0],e.surname.split("")[0]]}),label:"".concat(e.name," ").concat(e.surname," (").concat(e.position,")"),color:"primary",clickable:!0,onDelete:function(){return r(Object(O.a)(t.filter((function(t){return e.id!==t.id}))))}})},e.id)}));return Object(je.jsxs)(Xe.a,{container:!0,spacing:1,direction:"row",alignItems:"flex-start",children:[Object(je.jsx)(Xe.a,{item:!0,xs:12,sm:9,children:Object(je.jsx)(Ve.a,{className:a.paper,children:0===t.length?Object(je.jsx)(E.a,{variant:"subtitle1",color:"textSecondary",align:"left",children:"select workers for the project *"}):Object(je.jsx)(Xe.a,{container:!0,spacing:1,direction:"row",children:c})})}),Object(je.jsx)(Xe.a,{item:!0,xs:12,sm:3,children:Object(je.jsx)(et,{users:n.users,setSelectedUsers:r,selectedUsers:t})}),s&&Object(je.jsx)(E.a,{variant:"caption",color:s?"error":"textSecondary",align:"right",children:"select workers for the project (you must be on the list)"})]})},qr=Object(z.a)((function(e){return{container:{marginTop:20},button:{marginLeft:"auto"}}})),zr=function(e){var t=qr(),r=Object(s.useState)([e.currentUser]),n=Object(i.a)(r,2),a=n[0],c=n[1],o=Object(s.useState)(!1),d=Object(i.a)(o,2),l=d[0],u=d[1],j=Object(s.useState)(!1),p=Object(i.a)(j,2),b=p[0],m=p[1],O=Object(Nr.a)({mode:"onChange"}),x=O.register,f=O.formState.errors,h=O.handleSubmit,v=O.reset;Object(s.useEffect)((function(){0!==a.length||!b&&a.map((function(e){return e.id})).includes(e.currentUser.id)?u(!1):u(!0)}),[a]);return Object(je.jsxs)("div",{children:[Object(je.jsx)(E.a,{variant:"h6",color:"primary",children:"\u0421reating a project"}),e.currentUser.accesses.includes(4)?Object(je.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:h((function(t){m(!0),0!==a.length&&a.map((function(e){return e.id})).includes(e.currentUser.id)?(e.addNewProject({name:t.name,developersId:a.map((function(e){return e.id}))}),e.addProjectInArrayOfUsers({users:a.map((function(e){return e.id})),projectId:e.projects[e.projects.length-1].id+1}),v(),c([]),m(!1),u(!1)):u(!0)})),children:Object(je.jsxs)(Ye.a,{className:t.container,children:[Object(je.jsxs)(Xe.a,{spacing:2,container:!0,children:[Object(je.jsxs)(Xe.a,{item:!0,xs:12,md:12,children:[Object(je.jsx)(Rr.a,Object(bt.a)(Object(bt.a)({variant:"outlined",fullWidth:!0,required:!0,error:!!f.name,helperText:f.name?"enter task name":null},x("name",{required:!0})),{},{name:"name",label:"name of project"})),Object(je.jsx)("br",{})]}),Object(je.jsx)(Xe.a,{item:!0,xs:12,md:12,children:Object(je.jsx)(Wr,Object(bt.a)(Object(bt.a)({},e),{},{isError:l,selectedUsers:a,setSelectedUsers:c}))})]}),Object(je.jsx)(ge.a,{className:t.container,color:"primary",size:"large",type:"submit",variant:"contained",children:"create a new project"})]})}):Object(je.jsx)(Je.a,{to:"/projects"})]})},Hr=Object(o.b)((function(e){return{users:e.users.users,currentUser:e.users.currentUser,currentProjectId:e.projects.currentProjectId,currentProjectName:De(e.projects.projects,e.projects.currentProjectId),projects:e.projects.projects}}),{addNewProject:w,setCurrentProjectId:U,addProjectInArrayOfUsers:b})(zr),Jr=Object(z.a)((function(e){return{board:{height:"80vh",overflow:"auto"}}})),Yr=function(e){var t=Jr(),r=e.tasks.map((function(e){return Object(je.jsx)(Xe.a,{item:!0,xs:12,lg:6,children:e})}));return Object(je.jsxs)(Ve.a,{elevation:5,className:t.board,children:[Object(je.jsx)(E.a,{align:"center",variant:"h6",children:e.title}),Object(je.jsx)(Ye.a,{children:Object(je.jsx)(Xe.a,{container:!0,spacing:1,children:r})})]})},Vr=Object(z.a)((function(e){return{workBoard:{margin:1}}})),Gr=function(e){var t,r=Vr(),s=e.currentTasks.map((function(t){return Object(je.jsx)(ur,{task:t,currentUser:e.currentUser,takeTaskForDevelopment:e.takeTaskForDevelopment},t.id)})),n=e.runningTasks.map((function(t){return Object(je.jsx)(rr,{task:t,currentUser:e.currentUser,takeTaskForReview:e.takeTaskForReview,giveTaskForReview:e.giveTaskForReview,sendMessage:e.sendMessage,unreadMessagesLength:qe(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask},t.id)})),a=e.reviewTasks.map((function(t){return Object(je.jsx)(or,{task:t,currentUser:e.currentUser,approveTask:e.approveTask,sendMessage:e.sendMessage,takeTaskForRevision:e.takeTaskForRevision,unreadMessagesLength:qe(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask},t.id)})),c=e.completedTasks.map((function(t){return Object(je.jsx)(Ur,{task:t,currentUser:e.currentUser,sendMessage:e.sendMessage,unreadMessagesLength:qe(t,e.currentUser.id),readAllMessageInTask:e.readAllMessageInTask},t.id)}));return Object(je.jsxs)("div",{children:[Object(je.jsx)(E.a,{align:"center",variant:"h6",color:"primary",children:(null===(t=e.currentProject)||void 0===t?void 0:t.name)||"select the current project in the projects section"}),e.currentProject&&Object(je.jsxs)(Xe.a,{container:!0,spacing:2,justifyContent:"center",className:r.workBoard,children:[Object(je.jsx)(Xe.a,{item:!0,xs:12,md:6,children:Object(je.jsx)(Yr,{title:"Current tasks",tasks:s})}),Object(je.jsx)(Xe.a,{item:!0,xs:12,md:6,children:Object(je.jsx)(Yr,{title:"Running tasks",tasks:n})}),Object(je.jsx)(Xe.a,{item:!0,xs:12,md:6,children:Object(je.jsx)(Yr,{title:"Tasks under review",tasks:a})}),Object(je.jsx)(Xe.a,{item:!0,xs:12,md:6,children:Object(je.jsx)(Yr,{title:"Completed tasks",tasks:c})})]})]})};function Zr(e,t){return e?e.tasks.filter((function(e){return e.status===t})):[]}var _r=Object(o.b)((function(e){return{currentUser:e.users.currentUser,currentProject:Se(e.projects.projects,e.projects.currentProjectId),currentTasks:Zr(Se(e.projects.projects,e.projects.currentProjectId),"newTask"),runningTasks:Zr(Se(e.projects.projects,e.projects.currentProjectId),"development"),reviewTasks:Zr(Se(e.projects.projects,e.projects.currentProjectId),"testing"),completedTasks:Zr(Se(e.projects.projects,e.projects.currentProjectId),"ready")}}),{takeTaskForDevelopment:h,takeTaskForReview:v,giveTaskForReview:g,approveTask:k,readAllMessageInTask:M,sendMessage:y,takeTaskForRevision:I})(Gr),Kr=r(174),Qr=r(276),Xr=function(e){var t=[];return e.forEach((function(e){1===e?t.push({row:"development",num:1}):2===e?t.push({row:"testing",num:2}):3===e?t.push({row:"adding tasks",num:3}):4===e?t.push({row:"adding projects",num:4}):5===e&&t.push({row:"adding users",num:5})})),t},$r=Xr([1,2,3,4,5]),es=function(e){var t=$r.map((function(t){return Object(je.jsxs)(ve.a,{onClick:function(){e.selectedAccesses.includes(t.num)?e.setSelectedAccesses(Object(O.a)(e.selectedAccesses.filter((function(e){return t.num!==e})))):e.setSelectedAccesses([].concat(Object(O.a)(e.selectedAccesses),[t.num]))},children:[Object(je.jsx)($e.a,{checked:e.selectedAccesses.includes(t.num),inputProps:{"aria-label":"Checkbox A"}}),t.row]})})),r=Object(s.useState)(null),n=Object(i.a)(r,2),a=n[0],c=n[1];return Object(je.jsxs)("div",{children:[Object(je.jsx)(ge.a,{fullWidth:!0,onClick:function(e){c(e.currentTarget)},endIcon:Object(je.jsx)(fe.a,{}),color:"primary",size:"large",variant:"contained",children:"select accesses"}),Object(je.jsx)(he.a,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:function(){c(null)},children:t})]})},ts=["selectedAccesses","setSelectedAccesses","isError"],rs=Object(z.a)((function(e){return{paper:{padding:5,minHeight:32}}})),ss=function(e){var t=e.selectedAccesses,r=e.setSelectedAccesses,s=e.isError,n=(Object(Oe.a)(e,ts),rs());console.log(Xr(t)),console.log(t);var a=Xr(t).map((function(e){return Object(je.jsx)(Xe.a,{item:!0,children:Object(je.jsx)(Qe.a,{label:e.row,color:"primary",clickable:!0,onDelete:function(){return r(Object(O.a)(t.filter((function(t){return t!==e.num}))))}})},e.num)}));return Object(je.jsxs)(Xe.a,{container:!0,spacing:1,direction:"row",alignItems:"flex-start",children:[Object(je.jsx)(Xe.a,{item:!0,xs:12,sm:9,children:Object(je.jsx)(Ve.a,{className:n.paper,children:0===t.length?Object(je.jsx)(E.a,{variant:"subtitle1",color:"textSecondary",align:"left",children:"select accesses for new user *"}):Object(je.jsx)(Xe.a,{container:!0,spacing:1,direction:"row",children:a})})}),Object(je.jsx)(Xe.a,{item:!0,xs:12,sm:3,children:Object(je.jsx)(es,{setSelectedAccesses:r,selectedAccesses:t})}),s&&Object(je.jsx)(E.a,{variant:"caption",color:s?"error":"textSecondary",align:"right",children:"select accesses for new user"})]})},ns=Object(z.a)((function(e){return{container:{marginTop:10},button:{marginLeft:"auto"}}})),as=function(e){var t=ns(),r=Object(s.useState)([]),n=Object(i.a)(r,2),a=n[0],c=n[1],o=Object(s.useState)(!1),d=Object(i.a)(o,2),l=d[0],u=d[1],j=Object(s.useState)(!1),p=Object(i.a)(j,2),b=p[0],m=p[1],O=Object(Nr.a)({mode:"onChange"}),x=O.register,f=O.formState.errors,h=O.handleSubmit,v=O.reset;Object(s.useEffect)((function(){0===a.length&&b?u(!0):u(!1)}),[a]);return Object(je.jsxs)("div",{children:[Object(je.jsx)(E.a,{variant:"h6",color:"primary",children:"\u0421reating new user"}),e.currentUser.accesses.includes(5)?Object(je.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:h((function(t){m(!0),0===a.length?u(!0):(e.addUser({name:t.name,surname:t.surname,position:t.position,accesses:a}),v(),c([]),m(!1),u(!1))})),children:Object(je.jsxs)(Ye.a,{className:t.container,children:[Object(je.jsxs)(Xe.a,{spacing:2,container:!0,children:[Object(je.jsxs)(Xe.a,{item:!0,xs:12,md:6,children:[Object(je.jsx)(Rr.a,Object(bt.a)(Object(bt.a)({variant:"outlined",fullWidth:!0,required:!0,error:!!f.name,helperText:f.name?"enter user name":null},x("name",{required:!0})),{},{name:"name",label:"name"})),Object(je.jsx)("br",{})]}),Object(je.jsxs)(Xe.a,{item:!0,xs:12,md:6,children:[Object(je.jsx)(Rr.a,Object(bt.a)(Object(bt.a)({variant:"outlined",fullWidth:!0,required:!0},x("surname",{required:!0})),{},{error:!!f.surname,helperText:f.surname?"enter user surname":null,name:"surname",label:"surname"})),Object(je.jsx)("br",{})]}),Object(je.jsxs)(Xe.a,{item:!0,xs:12,children:[Object(je.jsx)(Rr.a,Object(bt.a)(Object(bt.a)({variant:"outlined",fullWidth:!0,required:!0},x("position",{required:!0})),{},{error:!!f.position,helperText:f.position?"enter user position":null,name:"position",label:"position"})),Object(je.jsx)("br",{})]}),Object(je.jsx)(Xe.a,{item:!0,xs:12,md:12,children:Object(je.jsx)(ss,{selectedAccesses:a,setSelectedAccesses:c,isError:l,addUser:e.addUser})})]}),Object(je.jsx)(ge.a,{className:t.container,color:"primary",size:"large",type:"submit",variant:"contained",children:"create new user"})]})}):Object(je.jsx)(Je.a,{to:"/projects"})]})},cs=Object(o.b)((function(e){return{users:e.users.users,currentUser:e.users.currentUser}}),{addUser:p})(as);var is=function(){var e=Object(o.d)((function(e){return e.settings.isOpenLeftMenu})),t=Object(o.c)(),r=Object(s.useState)({}),n=Object(i.a)(r,2),a=n[0],c=n[1],d=Object(Kr.a)(a);return Object(je.jsx)("div",{className:"App",children:Object(je.jsxs)(Qr.a,{theme:d,children:[Object(je.jsx)(He,{setColor:c}),Object(je.jsx)(Je.d,{children:Object(je.jsxs)(Ye.a,{onClick:function(){e&&t(N({open:!1}))},children:[Object(je.jsx)(Je.b,{path:"/currentProject",render:function(){return Object(je.jsx)(_r,{})}}),Object(je.jsx)(Je.b,{path:"/currentTasks",render:function(){return Object(je.jsx)(Fr,{})}}),Object(je.jsx)(Je.b,{path:"/projects",render:function(){return Object(je.jsx)(pt,{})}}),Object(je.jsx)(Je.b,{path:"/addTaskForm",render:function(){return Object(je.jsx)(Br,{})}}),Object(je.jsx)(Je.b,{path:"/addProjectForm",render:function(){return Object(je.jsx)(Hr,{})}}),Object(je.jsx)(Je.b,{path:"/addUserForm",render:function(){return Object(je.jsx)(cs,{})}})]})})]})})},os=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,310)).then((function(t){var r=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),s(e),n(e),a(e),c(e)}))},ds=Object(d.a)({reducer:{users:m,projects:P,settings:S}});c.a.render(Object(je.jsx)(ce.a,{children:Object(je.jsx)(o.a,{store:ds,children:Object(je.jsx)(is,{})})}),document.getElementById("root")),os()}},[[235,1,2]]]);
//# sourceMappingURL=main.ce2db51f.chunk.js.map